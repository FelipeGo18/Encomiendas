<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/build.gradle.kts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/build.gradle.kts" />
              <option name="originalContent" value="plugins {&#10;    id(&quot;com.android.application&quot;)&#10;    // Safe Args es OPCIONAL (solo si quieres clases Directions):&#10;    // id(&quot;androidx.navigation.safeargs&quot;)&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.hfad.encomiendas&quot;&#10;    compileSdk = 34&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.hfad.encomiendas&quot;&#10;        minSdk = 24&#10;        targetSdk = 34&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;&#10;&#10;        val mapsKey = (project.findProperty(&quot;MAPS_API_KEY&quot;) as String?) ?: &quot;&quot;&#10;        buildConfigField(&quot;String&quot;, &quot;MAPS_API_KEY&quot;, &quot;\&quot;$mapsKey\&quot;&quot;)&#10;        manifestPlaceholders[&quot;MAPS_API_KEY&quot;] = mapsKey&#10;&#10;        buildConfigField(&quot;long&quot;, &quot;MAP_REFRESH_MS&quot;, &quot;20000L&quot;)&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_17&#10;        targetCompatibility = JavaVersion.VERSION_17&#10;    }&#10;&#10;    buildFeatures {&#10;        viewBinding = true&#10;        buildConfig = true&#10;    }&#10;}&#10;&#10;dependencies {&#10;    // --- AndroidX UI ---&#10;    implementation(&quot;androidx.core:core:1.13.1&quot;)&#10;    implementation(&quot;androidx.appcompat:appcompat:1.7.0&quot;)&#10;    implementation(&quot;com.google.android.material:material:1.12.0&quot;)&#10;    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)&#10;    implementation(&quot;androidx.recyclerview:recyclerview:1.3.2&quot;)&#10;    implementation(&quot;androidx.cardview:cardview:1.0.0&quot;)&#10;    implementation(&quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;)&#10;&#10;    // --- Navigation (¡clave para los atributos app:startDestination, app:destination, app:argType!) ---&#10;    val nav = &quot;2.7.7&quot;&#10;    implementation(&quot;androidx.navigation:navigation-fragment:$nav&quot;)&#10;    implementation(&quot;androidx.navigation:navigation-ui:$nav&quot;)&#10;    // explícito para evitar el error de aapt en algunos setups&#10;    implementation(&quot;androidx.navigation:navigation-runtime:$nav&quot;)&#10;&#10;    // --- Google Maps / Places ---&#10;    implementation(&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)&#10;    implementation(&quot;com.google.android.gms:play-services-location:21.3.0&quot;)&#10;    implementation(&quot;com.google.android.libraries.places:places:3.5.0&quot;)&#10;    // Maps Utils para clustering&#10;    implementation(&quot;com.google.maps.android:android-maps-utils:3.8.2&quot;)&#10;&#10;    // --- Room ---&#10;    implementation(&quot;androidx.room:room-runtime:2.6.1&quot;)&#10;    annotationProcessor(&quot;androidx.room:room-compiler:2.6.1&quot;)&#10;&#10;    // --- Glide ---&#10;    implementation(&quot;com.github.bumptech.glide:glide:4.16.0&quot;)&#10;    annotationProcessor(&quot;com.github.bumptech.glide:compiler:4.16.0&quot;)&#10;&#10;    // --- Firebase Messaging (requiere configurar google-services.json y plugin en el root build.gradle) ---&#10;    implementation(platform(&quot;com.google.firebase:firebase-bom:33.1.2&quot;))&#10;    implementation(&quot;com.google.firebase:firebase-messaging&quot;)&#10;&#10;    // --- WorkManager ---&#10;    implementation(&quot;androidx.work:work-runtime:2.9.0&quot;)&#10;&#10;    // --- Testing ---&#10;    testImplementation(&quot;junit:junit:4.13.2&quot;)&#10;    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)&#10;    androidTestImplementation(&quot;androidx.test:core:1.5.0&quot;)&#10;    androidTestImplementation(&quot;androidx.test:runner:1.5.2&quot;)&#10;    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)&#10;}&#10;" />
              <option name="updatedContent" value="plugins {&#13;&#10;    id(&quot;com.android.application&quot;)&#13;&#10;    // Safe Args es OPCIONAL (solo si quieres clases Directions):&#13;&#10;    // id(&quot;androidx.navigation.safeargs&quot;)&#13;&#10;}&#13;&#10;&#13;&#10;android {&#13;&#10;    namespace = &quot;com.hfad.encomiendas&quot;&#13;&#10;    compileSdk = 34&#13;&#10;&#13;&#10;    defaultConfig {&#13;&#10;        applicationId = &quot;com.hfad.encomiendas&quot;&#13;&#10;        minSdk = 24&#13;&#10;        targetSdk = 34&#13;&#10;        versionCode = 1&#13;&#10;        versionName = &quot;1.0&quot;&#13;&#10;        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;&#13;&#10;&#13;&#10;        val mapsKey = (project.findProperty(&quot;MAPS_API_KEY&quot;) as String?) ?: &quot;&quot;&#13;&#10;        buildConfigField(&quot;String&quot;, &quot;MAPS_API_KEY&quot;, &quot;\&quot;$mapsKey\&quot;&quot;)&#13;&#10;        manifestPlaceholders[&quot;MAPS_API_KEY&quot;] = mapsKey&#13;&#10;&#13;&#10;        buildConfigField(&quot;long&quot;, &quot;MAP_REFRESH_MS&quot;, &quot;20000L&quot;)&#13;&#10;    }&#13;&#10;&#13;&#10;    buildTypes {&#13;&#10;        release {&#13;&#10;            isMinifyEnabled = false&#13;&#10;            proguardFiles(&#13;&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#13;&#10;                &quot;proguard-rules.pro&quot;&#13;&#10;            )&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    compileOptions {&#13;&#10;        sourceCompatibility = JavaVersion.VERSION_17&#13;&#10;        targetCompatibility = JavaVersion.VERSION_17&#13;&#10;    }&#13;&#10;&#13;&#10;    buildFeatures {&#13;&#10;        viewBinding = true&#13;&#10;        buildConfig = true&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;dependencies {&#13;&#10;    // --- AndroidX UI ---&#13;&#10;    implementation(&quot;androidx.core:core:1.13.1&quot;)&#13;&#10;    implementation(&quot;androidx.appcompat:appcompat:1.7.0&quot;)&#13;&#10;    implementation(&quot;com.google.android.material:material:1.12.0&quot;)&#13;&#10;    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)&#13;&#10;    implementation(&quot;androidx.recyclerview:recyclerview:1.3.2&quot;)&#13;&#10;    implementation(&quot;androidx.cardview:cardview:1.0.0&quot;)&#13;&#10;    implementation(&quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;)&#13;&#10;&#13;&#10;    // --- Charts para gráficas ---&#13;&#10;    implementation(&quot;com.github.PhilJay:MPAndroidChart:v3.1.0&quot;)&#13;&#10;&#13;&#10;    // --- Navigation (¡clave para los atributos app:startDestination, app:destination, app:argType!) ---&#13;&#10;    val nav = &quot;2.7.7&quot;&#13;&#10;    implementation(&quot;androidx.navigation:navigation-fragment:$nav&quot;)&#13;&#10;    implementation(&quot;androidx.navigation:navigation-ui:$nav&quot;)&#13;&#10;    // explícito para evitar el error de aapt en algunos setups&#13;&#10;    implementation(&quot;androidx.navigation:navigation-runtime:$nav&quot;)&#13;&#10;&#13;&#10;    // --- Google Maps / Places ---&#13;&#10;    implementation(&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)&#13;&#10;    implementation(&quot;com.google.android.gms:play-services-location:21.3.0&quot;)&#13;&#10;    implementation(&quot;com.google.android.libraries.places:places:3.5.0&quot;)&#13;&#10;    // Maps Utils para clustering&#13;&#10;    implementation(&quot;com.google.maps.android:android-maps-utils:3.8.2&quot;)&#13;&#10;&#13;&#10;    // --- Room ---&#13;&#10;    implementation(&quot;androidx.room:room-runtime:2.6.1&quot;)&#13;&#10;    annotationProcessor(&quot;androidx.room:room-compiler:2.6.1&quot;)&#13;&#10;&#13;&#10;    // --- Glide ---&#13;&#10;    implementation(&quot;com.github.bumptech.glide:glide:4.16.0&quot;)&#13;&#10;    annotationProcessor(&quot;com.github.bumptech.glide:compiler:4.16.0&quot;)&#13;&#10;&#13;&#10;    // --- Firebase Messaging (requiere configurar google-services.json y plugin en el root build.gradle) ---&#13;&#10;    implementation(platform(&quot;com.google.firebase:firebase-bom:33.1.2&quot;))&#13;&#10;    implementation(&quot;com.google.firebase:firebase-messaging&quot;)&#13;&#10;&#13;&#10;    // --- WorkManager ---&#13;&#10;    implementation(&quot;androidx.work:work-runtime:2.9.0&quot;)&#13;&#10;&#13;&#10;    // --- Testing ---&#13;&#10;    testImplementation(&quot;junit:junit:4.13.2&quot;)&#13;&#10;    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)&#13;&#10;    androidTestImplementation(&quot;androidx.test:core:1.5.0&quot;)&#13;&#10;    androidTestImplementation(&quot;androidx.test:runner:1.5.2&quot;)&#13;&#10;    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/MainActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/MainActivity.java" />
              <option name="originalContent" value="package com.hfad.encomiendas;&#10;&#10;import android.Manifest;&#10;import android.content.pm.PackageManager;&#10;import android.os.Build;&#10;import android.os.Bundle;&#10;import android.util.Log;&#10;import android.view.Menu;&#10;import android.view.MenuItem;&#10;import android.view.View;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.activity.result.ActivityResultLauncher;&#10;import androidx.activity.result.contract.ActivityResultContracts;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.core.content.ContextCompat;&#10;import androidx.navigation.NavController;&#10;import androidx.navigation.NavGraph;&#10;import androidx.navigation.NavInflater;&#10;import androidx.navigation.NavOptions;&#10;import androidx.navigation.fragment.NavHostFragment;&#10;import androidx.navigation.ui.AppBarConfiguration;&#10;import androidx.navigation.ui.NavigationUI;&#10;&#10;import com.google.android.material.appbar.MaterialToolbar;&#10;import com.google.android.material.dialog.MaterialAlertDialogBuilder;&#10;import com.hfad.encomiendas.core.NotificationHelper;&#10;import com.hfad.encomiendas.core.SessionManager;&#10;&#10;public class MainActivity extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;MainActivity&quot;;&#10;    private NavController navController;&#10;    private MaterialToolbar toolbar;&#10;    private SessionManager sessionManager;&#10;    private TextView notificationBadge;&#10;    private int notificationCount = 0;&#10;&#10;    // Destinos de nivel superior (sin botón back)&#10;    private AppBarConfiguration appBarConfiguration;&#10;&#10;    private ActivityResultLauncher&lt;String&gt; notifPermLauncher;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_main);&#10;&#10;        // Inicializar SessionManager&#10;        sessionManager = new SessionManager(this);&#10;&#10;        // Configurar toolbar&#10;        toolbar = findViewById(R.id.topAppBar);&#10;        setSupportActionBar(toolbar);&#10;&#10;        // Canal de notificaciones&#10;        NotificationHelper.ensureChannels(this);&#10;&#10;        // Permiso de notificaciones (13+)&#10;        notifPermLauncher = registerForActivityResult(&#10;                new ActivityResultContracts.RequestPermission(),&#10;                granted -&gt; { /* opcional: feedback */ }&#10;        );&#10;        requestPostNotificationsIfNeeded();&#10;&#10;        // NavHost y controller&#10;        NavHostFragment navHost = (NavHostFragment) getSupportFragmentManager()&#10;                .findFragmentById(R.id.nav_host_fragment);&#10;        if (navHost == null) throw new IllegalStateException(&quot;Falta @id/nav_host_fragment&quot;);&#10;        navController = navHost.getNavController();&#10;&#10;        // Configurar AppBarConfiguration con destinos de nivel superior&#10;        appBarConfiguration = new AppBarConfiguration.Builder(&#10;                R.id.loginFragment,&#10;                R.id.homeDashboardFragment,&#10;                R.id.asignadorFragment,&#10;                R.id.misAsignacionesFragment,&#10;                R.id.hubDashboardFragment,&#10;                R.id.repartidorDashboardFragment,&#10;                R.id.estadisticasFragment&#10;        ).build();&#10;&#10;        // Conectar toolbar con Navigation&#10;        NavigationUI.setupWithNavController(toolbar, navController, appBarConfiguration);&#10;&#10;        // Listener para cambios de destino&#10;        navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; {&#10;            updateToolbarForDestination(destination.getId(), destination.getLabel());&#10;        });&#10;&#10;        // ⚠ SOLO al primer create: configura el grafo y rutea por rol.&#10;        if (savedInstanceState == null) {&#10;            NavInflater inflater = navController.getNavInflater();&#10;            NavGraph graph = inflater.inflate(R.navigation.nav_graph);&#10;            graph.setStartDestination(R.id.loginFragment);&#10;            navController.setGraph(graph);&#10;&#10;            if (sessionManager.isLoggedIn()) {&#10;                navigateByRole(sessionManager.getRole());&#10;            }&#10;        }&#10;&#10;        // Datos demo si quieres, no afecta el nav state&#10;        seedDemoData();&#10;&#10;        // Simular notificaciones (esto lo conectarías con tu lógica real)&#10;        simulateNotifications();&#10;    }&#10;&#10;    /**&#10;     * Actualizar toolbar según el destino actual&#10;     */&#10;    private void updateToolbarForDestination(int destinationId, CharSequence label) {&#10;        // Ocultar toolbar en login y registro&#10;        if (destinationId == R.id.loginFragment || destinationId == R.id.registroRemitenteFragment) {&#10;            toolbar.setVisibility(View.GONE);&#10;        } else {&#10;            toolbar.setVisibility(View.VISIBLE);&#10;&#10;            // Actualizar título si está disponible&#10;            if (label != null) {&#10;                toolbar.setTitle(label);&#10;            }&#10;&#10;            // Invalidar menú para recargar según contexto&#10;            invalidateOptionsMenu();&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public boolean onCreateOptionsMenu(Menu menu) {&#10;        // Limpiar menú anterior&#10;        menu.clear();&#10;&#10;        // Obtener destino actual&#10;        int currentDestination = navController.getCurrentDestination() != null&#10;            ? navController.getCurrentDestination().getId()&#10;            : R.id.loginFragment;&#10;&#10;        // No mostrar menú en login/registro&#10;        if (currentDestination == R.id.loginFragment ||&#10;            currentDestination == R.id.registroRemitenteFragment) {&#10;            return true;&#10;        }&#10;&#10;        // Cargar menú según rol del usuario&#10;        String role = sessionManager.getRole();&#10;        int menuResource = getMenuForRole(role);&#10;        getMenuInflater().inflate(menuResource, menu);&#10;&#10;        return true;&#10;    }&#10;&#10;    /**&#10;     * Obtener el menú apropiado según el rol&#10;     */&#10;    private int getMenuForRole(String role) {&#10;        if (role == null) return R.menu.main_menu;&#10;&#10;        switch (role.toUpperCase()) {&#10;            case &quot;ADMIN&quot;:&#10;                return R.menu.menu_admin;&#10;            case &quot;REMITENTE&quot;:&#10;                return R.menu.menu_remitente;&#10;            case &quot;RECOLECTOR&quot;:&#10;                return R.menu.menu_recolector;&#10;            case &quot;ASIGNADOR&quot;:&#10;                return R.menu.menu_asignador;&#10;            case &quot;OPERADOR&quot;:&#10;            case &quot;OPERADOR_HUB&quot;:&#10;            case &quot;REPARTIDOR&quot;:&#10;            default:&#10;                return R.menu.main_menu;&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public boolean onOptionsItemSelected(MenuItem item) {&#10;        int itemId = item.getItemId();&#10;&#10;        // Acciones comunes&#10;        if (itemId == R.id.action_logout) {&#10;            showLogoutConfirmation();&#10;            return true;&#10;        } else if (itemId == R.id.action_profile) {&#10;            showProfile();&#10;            return true;&#10;        } else if (itemId == R.id.action_help) {&#10;            showHelp();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de ADMIN&#10;        if (itemId == R.id.action_statistics) {&#10;            navController.navigate(R.id.estadisticasFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_manage_users) {&#10;            Toast.makeText(this, &quot;Gestión de usuarios - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de REMITENTE&#10;        if (itemId == R.id.action_my_requests) {&#10;            navController.navigate(R.id.homeDashboardFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_new_pickup) {&#10;            navController.navigate(R.id.solicitarRecoleccionFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_history) {&#10;            Toast.makeText(this, &quot;Historial - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de RECOLECTOR&#10;        if (itemId == R.id.action_my_assignments) {&#10;            navController.navigate(R.id.misAsignacionesFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_completed) {&#10;            Toast.makeText(this, &quot;Completadas - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de ASIGNADOR&#10;        if (itemId == R.id.action_manage_zones) {&#10;            navController.navigate(R.id.gestionZonasFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_view_assignments) {&#10;            navController.navigate(R.id.asignadorFragment);&#10;            return true;&#10;        }&#10;&#10;        return super.onOptionsItemSelected(item);&#10;    }&#10;&#10;    /**&#10;     * Mostrar diálogo de confirmación de logout&#10;     */&#10;    private void showLogoutConfirmation() {&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Cerrar sesión&quot;)&#10;            .setMessage(&quot;¿Estás seguro que deseas cerrar sesión?&quot;)&#10;            .setPositiveButton(&quot;Cerrar sesión&quot;, (dialog, which) -&gt; doLogout())&#10;            .setNegativeButton(&quot;Cancelar&quot;, null)&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Mostrar perfil de usuario&#10;     */&#10;    private void showProfile() {&#10;        String userEmail = sessionManager.getEmail();&#10;        String userRole = sessionManager.getRole();&#10;&#10;        // Extraer nombre del email (antes del @)&#10;        String userName = userEmail.contains(&quot;@&quot;)&#10;            ? userEmail.substring(0, userEmail.indexOf(&quot;@&quot;))&#10;            : userEmail;&#10;&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Mi Perfil&quot;)&#10;            .setMessage(&quot;Usuario: &quot; + userName + &quot;\n&quot; +&#10;                       &quot;Email: &quot; + userEmail + &quot;\n&quot; +&#10;                       &quot;Rol: &quot; + userRole)&#10;            .setPositiveButton(&quot;Cerrar&quot;, null)&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Mostrar ayuda&#10;     */&#10;    private void showHelp() {&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Ayuda&quot;)&#10;            .setMessage(&quot;Sistema de Gestión de Encomiendas\n\n&quot; +&#10;                       &quot;Para soporte contacta a:\n&quot; +&#10;                       &quot;soporte@encomiendas.com\n\n&quot; +&#10;                       &quot;Versión: 1.0&quot;)&#10;            .setPositiveButton(&quot;Entendido&quot;, null)&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Mostrar configuración&#10;     */&#10;    private void showSettings() {&#10;        Toast.makeText(this, &quot;Configuración - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;    }&#10;&#10;    /**&#10;     * Acción al hacer click en notificaciones&#10;     */&#10;    private void onNotificationClick() {&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Notificaciones (&quot; + notificationCount + &quot;)&quot;)&#10;            .setMessage(&quot;• Nueva asignación disponible\n• Recolección completada\n• Actualización del sistema&quot;)&#10;            .setPositiveButton(&quot;Cerrar&quot;, (dialog, which) -&gt; {&#10;                // Marcar como leídas&#10;                updateNotificationBadge(0);&#10;            })&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Actualizar badge de notificaciones&#10;     */&#10;    private void updateNotificationBadge(int count) {&#10;        notificationCount = count;&#10;        if (notificationBadge != null) {&#10;            if (count &gt; 0) {&#10;                notificationBadge.setText(String.valueOf(count));&#10;                notificationBadge.setVisibility(View.VISIBLE);&#10;            } else {&#10;                notificationBadge.setVisibility(View.GONE);&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Simular notificaciones (conectar con lógica real)&#10;     */&#10;    private void simulateNotifications() {&#10;        // Ejemplo: simular 3 notificaciones después de 2 segundos&#10;        toolbar.postDelayed(() -&gt; {&#10;            if (sessionManager.isLoggedIn()) {&#10;                updateNotificationBadge(3);&#10;            }&#10;        }, 2000);&#10;    }&#10;&#10;    private void doLogout() {&#10;        sessionManager.logout();&#10;        try {&#10;            NavOptions opts = new NavOptions.Builder()&#10;                    .setPopUpTo(navController.getGraph().getStartDestinationId(), true)&#10;                    .build();&#10;            navController.navigate(R.id.loginFragment, null, opts);&#10;            Toast.makeText(this, &quot;Sesión cerrada&quot;, Toast.LENGTH_SHORT).show();&#10;        } catch (Exception e) {&#10;            Log.e(TAG, &quot;Reset nav tras logout&quot;, e);&#10;            navController.setGraph(R.navigation.nav_graph);&#10;        }&#10;    }&#10;&#10;    private void navigateByRole(String roleRaw) {&#10;        String role = (roleRaw == null ? &quot;&quot; : roleRaw.trim().toUpperCase());&#10;        int destId;&#10;        switch (role) {&#10;            case &quot;ADMIN&quot;:&#10;                destId = R.id.estadisticasFragment; break;&#10;            case &quot;OPERADOR&quot;:&#10;            case &quot;OPERADOR_HUB&quot;:&#10;                destId = R.id.hubDashboardFragment; break;&#10;            case &quot;REPARTIDOR&quot;:&#10;                destId = R.id.repartidorDashboardFragment; break;&#10;            case &quot;ASIGNADOR&quot;:&#10;                destId = R.id.asignadorFragment; break;&#10;            case &quot;RECOLECTOR&quot;:&#10;                destId = R.id.misAsignacionesFragment; break;&#10;            default:&#10;                destId = R.id.homeDashboardFragment; break;&#10;        }&#10;        try {&#10;            NavOptions opts = new NavOptions.Builder()&#10;                    .setPopUpTo(R.id.loginFragment, true)&#10;                    .build();&#10;            navController.navigate(destId, null, opts);&#10;        } catch (Exception e) {&#10;            Log.e(TAG, &quot;navigateByRole error (&quot; + role + &quot;)&quot;, e);&#10;        }&#10;    }&#10;&#10;    private void seedDemoData() {&#10;        // Ejecutar seeder en background thread después de que la BD esté lista&#10;        new Thread(() -&gt; {&#10;            try {&#10;                // Pequeña pausa para asegurar que la BD esté completamente inicializada&#10;                Thread.sleep(1000);&#10;                com.hfad.encomiendas.core.DemoSeeder.seedOnce(getApplicationContext());&#10;                Log.d(TAG, &quot;Seeder ejecutado correctamente&quot;);&#10;            } catch (Exception e) {&#10;                Log.e(TAG, &quot;Error ejecutando seeder&quot;, e);&#10;            }&#10;        }).start();&#10;    }&#10;&#10;    private void requestPostNotificationsIfNeeded() {&#10;        if (Build.VERSION.SDK_INT &gt;= 33 &amp;&amp;&#10;                ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS)&#10;                        != PackageManager.PERMISSION_GRANTED) {&#10;            notifPermLauncher.launch(Manifest.permission.POST_NOTIFICATIONS);&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public boolean onSupportNavigateUp() {&#10;        return NavigationUI.navigateUp(navController, appBarConfiguration)&#10;                || super.onSupportNavigateUp();&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.hfad.encomiendas;&#10;&#10;import android.Manifest;&#10;import android.content.pm.PackageManager;&#10;import android.os.Build;&#10;import android.os.Bundle;&#10;import android.util.Log;&#10;import android.view.Menu;&#10;import android.view.MenuItem;&#10;import android.view.View;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.activity.result.ActivityResultLauncher;&#10;import androidx.activity.result.contract.ActivityResultContracts;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.core.content.ContextCompat;&#10;import androidx.navigation.NavController;&#10;import androidx.navigation.NavGraph;&#10;import androidx.navigation.NavInflater;&#10;import androidx.navigation.NavOptions;&#10;import androidx.navigation.fragment.NavHostFragment;&#10;import androidx.navigation.ui.AppBarConfiguration;&#10;import androidx.navigation.ui.NavigationUI;&#10;&#10;import com.google.android.material.appbar.MaterialToolbar;&#10;import com.google.android.material.dialog.MaterialAlertDialogBuilder;&#10;import com.hfad.encomiendas.core.NotificationHelper;&#10;import com.hfad.encomiendas.core.SessionManager;&#10;&#10;public class MainActivity extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;MainActivity&quot;;&#10;    private NavController navController;&#10;    private MaterialToolbar toolbar;&#10;    private SessionManager sessionManager;&#10;    private TextView notificationBadge;&#10;    private int notificationCount = 0;&#10;&#10;    // Destinos de nivel superior (sin botón back)&#10;    private AppBarConfiguration appBarConfiguration;&#10;&#10;    private ActivityResultLauncher&lt;String&gt; notifPermLauncher;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_main);&#10;&#10;        // Inicializar SessionManager&#10;        sessionManager = new SessionManager(this);&#10;&#10;        // Configurar toolbar&#10;        toolbar = findViewById(R.id.topAppBar);&#10;        setSupportActionBar(toolbar);&#10;&#10;        // Canal de notificaciones&#10;        NotificationHelper.ensureChannels(this);&#10;&#10;        // Permiso de notificaciones (13+)&#10;        notifPermLauncher = registerForActivityResult(&#10;                new ActivityResultContracts.RequestPermission(),&#10;                granted -&gt; { /* opcional: feedback */ }&#10;        );&#10;        requestPostNotificationsIfNeeded();&#10;&#10;        // NavHost y controller&#10;        NavHostFragment navHost = (NavHostFragment) getSupportFragmentManager()&#10;                .findFragmentById(R.id.nav_host_fragment);&#10;        if (navHost == null) throw new IllegalStateException(&quot;Falta @id/nav_host_fragment&quot;);&#10;        navController = navHost.getNavController();&#10;&#10;        // Configurar AppBarConfiguration con destinos de nivel superior&#10;        appBarConfiguration = new AppBarConfiguration.Builder(&#10;                R.id.loginFragment,&#10;                R.id.homeDashboardFragment,&#10;                R.id.asignadorFragment,&#10;                R.id.misAsignacionesFragment,&#10;                R.id.hubDashboardFragment,&#10;                R.id.repartidorDashboardFragment,&#10;                R.id.adminFragment,&#10;                R.id.estadisticasFragment&#10;        ).build();&#10;&#10;        // Conectar toolbar con Navigation&#10;        NavigationUI.setupWithNavController(toolbar, navController, appBarConfiguration);&#10;&#10;        // Listener para cambios de destino&#10;        navController.addOnDestinationChangedListener((controller, destination, arguments) -&gt; {&#10;            updateToolbarForDestination(destination.getId(), destination.getLabel());&#10;        });&#10;&#10;        // ⚠ SOLO al primer create: configura el grafo y rutea por rol.&#10;        if (savedInstanceState == null) {&#10;            NavInflater inflater = navController.getNavInflater();&#10;            NavGraph graph = inflater.inflate(R.navigation.nav_graph);&#10;            graph.setStartDestination(R.id.loginFragment);&#10;            navController.setGraph(graph);&#10;&#10;            if (sessionManager.isLoggedIn()) {&#10;                navigateByRole(sessionManager.getRole());&#10;            }&#10;        }&#10;&#10;        // Datos demo si quieres, no afecta el nav state&#10;        seedDemoData();&#10;&#10;        // Simular notificaciones (esto lo conectarías con tu lógica real)&#10;        simulateNotifications();&#10;    }&#10;&#10;    /**&#10;     * Actualizar toolbar según el destino actual&#10;     */&#10;    private void updateToolbarForDestination(int destinationId, CharSequence label) {&#10;        // Ocultar toolbar en login y registro&#10;        if (destinationId == R.id.loginFragment || destinationId == R.id.registroRemitenteFragment) {&#10;            toolbar.setVisibility(View.GONE);&#10;        } else {&#10;            toolbar.setVisibility(View.VISIBLE);&#10;&#10;            // Actualizar título si está disponible&#10;            if (label != null) {&#10;                toolbar.setTitle(label);&#10;            }&#10;&#10;            // Invalidar menú para recargar según contexto&#10;            invalidateOptionsMenu();&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public boolean onCreateOptionsMenu(Menu menu) {&#10;        // Limpiar menú anterior&#10;        menu.clear();&#10;&#10;        // Obtener destino actual&#10;        int currentDestination = navController.getCurrentDestination() != null&#10;            ? navController.getCurrentDestination().getId()&#10;            : R.id.loginFragment;&#10;&#10;        // No mostrar menú en login/registro&#10;        if (currentDestination == R.id.loginFragment ||&#10;            currentDestination == R.id.registroRemitenteFragment) {&#10;            return true;&#10;        }&#10;&#10;        // Cargar menú según rol del usuario&#10;        String role = sessionManager.getRole();&#10;        int menuResource = getMenuForRole(role);&#10;        getMenuInflater().inflate(menuResource, menu);&#10;&#10;        return true;&#10;    }&#10;&#10;    /**&#10;     * Obtener el menú apropiado según el rol&#10;     */&#10;    private int getMenuForRole(String role) {&#10;        if (role == null) return R.menu.main_menu;&#10;&#10;        switch (role.toUpperCase()) {&#10;            case &quot;ADMIN&quot;:&#10;                return R.menu.menu_admin;&#10;            case &quot;REMITENTE&quot;:&#10;                return R.menu.menu_remitente;&#10;            case &quot;RECOLECTOR&quot;:&#10;                return R.menu.menu_recolector;&#10;            case &quot;ASIGNADOR&quot;:&#10;                return R.menu.menu_asignador;&#10;            case &quot;OPERADOR&quot;:&#10;            case &quot;OPERADOR_HUB&quot;:&#10;            case &quot;REPARTIDOR&quot;:&#10;            default:&#10;                return R.menu.main_menu;&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public boolean onOptionsItemSelected(MenuItem item) {&#10;        int itemId = item.getItemId();&#10;&#10;        // Acciones comunes&#10;        if (itemId == R.id.action_logout) {&#10;            showLogoutConfirmation();&#10;            return true;&#10;        } else if (itemId == R.id.action_profile) {&#10;            showProfile();&#10;            return true;&#10;        } else if (itemId == R.id.action_help) {&#10;            showHelp();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de ADMIN&#10;        if (itemId == R.id.action_statistics) {&#10;            navController.navigate(R.id.estadisticasFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_manage_users) {&#10;            Toast.makeText(this, &quot;Gestión de usuarios - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de REMITENTE&#10;        if (itemId == R.id.action_my_requests) {&#10;            navController.navigate(R.id.homeDashboardFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_new_pickup) {&#10;            navController.navigate(R.id.solicitarRecoleccionFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_history) {&#10;            Toast.makeText(this, &quot;Historial - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de RECOLECTOR&#10;        if (itemId == R.id.action_my_assignments) {&#10;            navController.navigate(R.id.misAsignacionesFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_completed) {&#10;            Toast.makeText(this, &quot;Completadas - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;            return true;&#10;        }&#10;&#10;        // Acciones específicas de ASIGNADOR&#10;        if (itemId == R.id.action_manage_zones) {&#10;            navController.navigate(R.id.gestionZonasFragment);&#10;            return true;&#10;        } else if (itemId == R.id.action_view_assignments) {&#10;            navController.navigate(R.id.asignadorFragment);&#10;            return true;&#10;        }&#10;&#10;        return super.onOptionsItemSelected(item);&#10;    }&#10;&#10;    /**&#10;     * Mostrar diálogo de confirmación de logout&#10;     */&#10;    private void showLogoutConfirmation() {&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Cerrar sesión&quot;)&#10;            .setMessage(&quot;¿Estás seguro que deseas cerrar sesión?&quot;)&#10;            .setPositiveButton(&quot;Cerrar sesión&quot;, (dialog, which) -&gt; doLogout())&#10;            .setNegativeButton(&quot;Cancelar&quot;, null)&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Mostrar perfil de usuario&#10;     */&#10;    private void showProfile() {&#10;        String userEmail = sessionManager.getEmail();&#10;        String userRole = sessionManager.getRole();&#10;&#10;        // Extraer nombre del email (antes del @)&#10;        String userName = userEmail.contains(&quot;@&quot;)&#10;            ? userEmail.substring(0, userEmail.indexOf(&quot;@&quot;))&#10;            : userEmail;&#10;&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Mi Perfil&quot;)&#10;            .setMessage(&quot;Usuario: &quot; + userName + &quot;\n&quot; +&#10;                       &quot;Email: &quot; + userEmail + &quot;\n&quot; +&#10;                       &quot;Rol: &quot; + userRole)&#10;            .setPositiveButton(&quot;Cerrar&quot;, null)&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Mostrar ayuda&#10;     */&#10;    private void showHelp() {&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Ayuda&quot;)&#10;            .setMessage(&quot;Sistema de Gestión de Encomiendas\n\n&quot; +&#10;                       &quot;Para soporte contacta a:\n&quot; +&#10;                       &quot;soporte@encomiendas.com\n\n&quot; +&#10;                       &quot;Versión: 1.0&quot;)&#10;            .setPositiveButton(&quot;Entendido&quot;, null)&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Mostrar configuración&#10;     */&#10;    private void showSettings() {&#10;        Toast.makeText(this, &quot;Configuración - Por implementar&quot;, Toast.LENGTH_SHORT).show();&#10;    }&#10;&#10;    /**&#10;     * Acción al hacer click en notificaciones&#10;     */&#10;    private void onNotificationClick() {&#10;        new MaterialAlertDialogBuilder(this)&#10;            .setTitle(&quot;Notificaciones (&quot; + notificationCount + &quot;)&quot;)&#10;            .setMessage(&quot;• Nueva asignación disponible\n• Recolección completada\n• Actualización del sistema&quot;)&#10;            .setPositiveButton(&quot;Cerrar&quot;, (dialog, which) -&gt; {&#10;                // Marcar como leídas&#10;                updateNotificationBadge(0);&#10;            })&#10;            .show();&#10;    }&#10;&#10;    /**&#10;     * Actualizar badge de notificaciones&#10;     */&#10;    private void updateNotificationBadge(int count) {&#10;        notificationCount = count;&#10;        if (notificationBadge != null) {&#10;            if (count &gt; 0) {&#10;                notificationBadge.setText(String.valueOf(count));&#10;                notificationBadge.setVisibility(View.VISIBLE);&#10;            } else {&#10;                notificationBadge.setVisibility(View.GONE);&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Simular notificaciones (conectar con lógica real)&#10;     */&#10;    private void simulateNotifications() {&#10;        // Ejemplo: simular 3 notificaciones después de 2 segundos&#10;        toolbar.postDelayed(() -&gt; {&#10;            if (sessionManager.isLoggedIn()) {&#10;                updateNotificationBadge(3);&#10;            }&#10;        }, 2000);&#10;    }&#10;&#10;    private void doLogout() {&#10;        sessionManager.logout();&#10;        try {&#10;            NavOptions opts = new NavOptions.Builder()&#10;                    .setPopUpTo(navController.getGraph().getStartDestinationId(), true)&#10;                    .build();&#10;            navController.navigate(R.id.loginFragment, null, opts);&#10;            Toast.makeText(this, &quot;Sesión cerrada&quot;, Toast.LENGTH_SHORT).show();&#10;        } catch (Exception e) {&#10;            Log.e(TAG, &quot;Reset nav tras logout&quot;, e);&#10;            navController.setGraph(R.navigation.nav_graph);&#10;        }&#10;    }&#10;&#10;    private void navigateByRole(String roleRaw) {&#10;        String role = (roleRaw == null ? &quot;&quot; : roleRaw.trim().toUpperCase());&#10;        int destId;&#10;        switch (role) {&#10;            case &quot;ADMIN&quot;:&#10;                destId = R.id.adminFragment; break;&#10;            case &quot;OPERADOR&quot;:&#10;            case &quot;OPERADOR_HUB&quot;:&#10;                destId = R.id.hubDashboardFragment; break;&#10;            case &quot;REPARTIDOR&quot;:&#10;                destId = R.id.repartidorDashboardFragment; break;&#10;            case &quot;ASIGNADOR&quot;:&#10;                destId = R.id.asignadorFragment; break;&#10;            case &quot;RECOLECTOR&quot;:&#10;                destId = R.id.misAsignacionesFragment; break;&#10;            default:&#10;                destId = R.id.homeDashboardFragment; break;&#10;        }&#10;        try {&#10;            NavOptions opts = new NavOptions.Builder()&#10;                    .setPopUpTo(R.id.loginFragment, true)&#10;                    .build();&#10;            navController.navigate(destId, null, opts);&#10;        } catch (Exception e) {&#10;            Log.e(TAG, &quot;navigateByRole error (&quot; + role + &quot;)&quot;, e);&#10;        }&#10;    }&#10;&#10;    private void seedDemoData() {&#10;        // Ejecutar seeder en background thread después de que la BD esté lista&#10;        new Thread(() -&gt; {&#10;            try {&#10;                // Pequeña pausa para asegurar que la BD esté completamente inicializada&#10;                Thread.sleep(1000);&#10;                com.hfad.encomiendas.core.DemoSeeder.seedOnce(getApplicationContext());&#10;                Log.d(TAG, &quot;Seeder ejecutado correctamente&quot;);&#10;            } catch (Exception e) {&#10;                Log.e(TAG, &quot;Error ejecutando seeder&quot;, e);&#10;            }&#10;        }).start();&#10;    }&#10;&#10;    private void requestPostNotificationsIfNeeded() {&#10;        if (Build.VERSION.SDK_INT &gt;= 33 &amp;&amp;&#10;                ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS)&#10;                        != PackageManager.PERMISSION_GRANTED) {&#10;            notifPermLauncher.launch(Manifest.permission.POST_NOTIFICATIONS);&#10;        }&#10;    }&#10;&#10;    @Override&#10;    public boolean onSupportNavigateUp() {&#10;        return NavigationUI.navigateUp(navController, appBarConfiguration)&#10;                || super.onSupportNavigateUp();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/ui/AdminFragment.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/ui/AdminFragment.java" />
              <option name="originalContent" value="&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.hfad.encomiendas.ui;&#10;&#10;import android.graphics.Color;&#10;import android.os.Bundle;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.cardview.widget.CardView;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.navigation.fragment.NavHostFragment;&#10;&#10;import com.github.mikephil.charting.charts.BarChart;&#10;import com.github.mikephil.charting.charts.LineChart;&#10;import com.github.mikephil.charting.charts.PieChart;&#10;import com.github.mikephil.charting.components.Legend;&#10;import com.github.mikephil.charting.components.XAxis;&#10;import com.github.mikephil.charting.data.BarData;&#10;import com.github.mikephil.charting.data.BarDataSet;&#10;import com.github.mikephil.charting.data.BarEntry;&#10;import com.github.mikephil.charting.data.Entry;&#10;import com.github.mikephil.charting.data.LineData;&#10;import com.github.mikephil.charting.data.LineDataSet;&#10;import com.github.mikephil.charting.data.PieData;&#10;import com.github.mikephil.charting.data.PieDataSet;&#10;import com.github.mikephil.charting.data.PieEntry;&#10;import com.github.mikephil.charting.formatter.IndexAxisValueFormatter;&#10;import com.github.mikephil.charting.formatter.ValueFormatter;&#10;import com.hfad.encomiendas.R;&#10;import com.hfad.encomiendas.core.SessionManager;&#10;import com.hfad.encomiendas.data.AppDatabase;&#10;import com.hfad.encomiendas.data.FechaCount;&#10;import com.hfad.encomiendas.data.RolCount;&#10;&#10;import java.text.SimpleDateFormat;&#10;import java.util.ArrayList;&#10;import java.util.Calendar;&#10;import java.util.List;&#10;import java.util.Locale;&#10;&#10;public class AdminFragment extends Fragment {&#10;&#10;    private TextView tvAdminEmail;&#10;    private TextView tvTotalSolicitudes;&#10;    private TextView tvTotalUsuarios;&#10;    private TextView tvRecolectoresActivos;&#10;    private CardView cardEstadisticas;&#10;    private CardView cardGestionUsuarios;&#10;    private CardView cardConfiguracion;&#10;&#10;    private BarChart chartSolicitudesPorEstado;&#10;    private PieChart chartUsuariosPorRol;&#10;    private LineChart chartSolicitudesUltimos7Dias;&#10;&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        View view = inflater.inflate(R.layout.fragment_admin, container, false);&#10;&#10;        initViews(view);&#10;        setupListeners();&#10;        loadAdminInfo();&#10;        loadStatistics();&#10;&#10;        return view;&#10;    }&#10;&#10;    private void initViews(View view) {&#10;        tvAdminEmail = view.findViewById(R.id.tvAdminEmail);&#10;        tvTotalSolicitudes = view.findViewById(R.id.tvTotalSolicitudes);&#10;        tvTotalUsuarios = view.findViewById(R.id.tvTotalUsuarios);&#10;        tvRecolectoresActivos = view.findViewById(R.id.tvRecolectoresActivos);&#10;&#10;        cardEstadisticas = view.findViewById(R.id.cardEstadisticas);&#10;        cardGestionUsuarios = view.findViewById(R.id.cardGestionUsuarios);&#10;        cardConfiguracion = view.findViewById(R.id.cardConfiguracion);&#10;&#10;        chartSolicitudesPorEstado = view.findViewById(R.id.chartSolicitudesPorEstado);&#10;        chartUsuariosPorRol = view.findViewById(R.id.chartUsuariosPorRol);&#10;        chartSolicitudesUltimos7Dias = view.findViewById(R.id.chartSolicitudesUltimos7Dias);&#10;    }&#10;&#10;    private void setupListeners() {&#10;        cardEstadisticas.setOnClickListener(v -&gt; {&#10;            NavHostFragment.findNavController(this).navigate(R.id.action_admin_to_estadisticas);&#10;        });&#10;&#10;        cardGestionUsuarios.setOnClickListener(v -&gt; {&#10;            Toast.makeText(requireContext(), &quot;Gestión de Usuarios - En desarrollo&quot;, Toast.LENGTH_SHORT).show();&#10;        });&#10;&#10;        cardConfiguracion.setOnClickListener(v -&gt; {&#10;            Toast.makeText(requireContext(), &quot;Configuración del Sistema - En desarrollo&quot;, Toast.LENGTH_SHORT).show();&#10;        });&#10;    }&#10;&#10;    private void loadAdminInfo() {&#10;        SessionManager session = new SessionManager(requireContext());&#10;        String email = session.getEmail();&#10;&#10;        if (email != null &amp;&amp; !email.isEmpty()) {&#10;            tvAdminEmail.setText(email);&#10;        }&#10;    }&#10;&#10;    private void loadStatistics() {&#10;        new Thread(() -&gt; {&#10;            AppDatabase db = AppDatabase.getInstance(requireContext());&#10;&#10;            // Estadísticas de solicitudes&#10;            int totalSolicitudes = db.solicitudDao().getTotalSolicitudes();&#10;            int pendientes = db.solicitudDao().countSolicitudesByEstado(&quot;PENDIENTE&quot;);&#10;            int asignadas = db.solicitudDao().countSolicitudesByEstado(&quot;ASIGNADA&quot;);&#10;            int recolectadas = db.solicitudDao().countSolicitudesByEstado(&quot;RECOLECTADA&quot;);&#10;            int enTransito = db.solicitudDao().countSolicitudesByEstado(&quot;EN_TRANSITO&quot;);&#10;            int entregadas = db.solicitudDao().countSolicitudesByEstado(&quot;ENTREGADA&quot;);&#10;&#10;            // Estadísticas de usuarios&#10;            int totalUsuarios = db.userDao().getTotalUsuarios();&#10;            List&lt;RolCount&gt; usuariosPorRol = db.userDao().getCountByRol();&#10;&#10;            // Estadísticas de recolectores&#10;            int recolectoresActivos = db.recolectorDao().getTotalRecolectoresActivos();&#10;&#10;            // Solicitudes últimos 7 días&#10;            Calendar cal = Calendar.getInstance();&#10;            cal.add(Calendar.DAY_OF_MONTH, -7);&#10;            long startMillis = cal.getTimeInMillis();&#10;            List&lt;FechaCount&gt; solicitudesPorDia = db.solicitudDao().getSolicitudesLast7Days(startMillis);&#10;&#10;            // Actualizar UI en el hilo principal&#10;            requireActivity().runOnUiThread(() -&gt; {&#10;                tvTotalSolicitudes.setText(String.valueOf(totalSolicitudes));&#10;                tvTotalUsuarios.setText(String.valueOf(totalUsuarios));&#10;                tvRecolectoresActivos.setText(String.valueOf(recolectoresActivos));&#10;&#10;                // Configurar gráficas&#10;                setupBarChart(pendientes, asignadas, recolectadas, enTransito, entregadas);&#10;                setupPieChart(usuariosPorRol);&#10;                setupLineChart(solicitudesPorDia);&#10;            });&#10;        }).start();&#10;    }&#10;&#10;    private void setupBarChart(int pendientes, int asignadas, int recolectadas, int enTransito, int entregadas) {&#10;        ArrayList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();&#10;        entries.add(new BarEntry(0, pendientes));&#10;        entries.add(new BarEntry(1, asignadas));&#10;        entries.add(new BarEntry(2, recolectadas));&#10;        entries.add(new BarEntry(3, enTransito));&#10;        entries.add(new BarEntry(4, entregadas));&#10;&#10;        BarDataSet dataSet = new BarDataSet(entries, &quot;Solicitudes&quot;);&#10;&#10;        // Colores para cada barra&#10;        ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;();&#10;        colors.add(Color.parseColor(&quot;#FF9800&quot;)); // Pendiente - Naranja&#10;        colors.add(Color.parseColor(&quot;#2196F3&quot;)); // Asignada - Azul&#10;        colors.add(Color.parseColor(&quot;#4CAF50&quot;)); // Recolectada - Verde&#10;        colors.add(Color.parseColor(&quot;#9C27B0&quot;)); // En Tránsito - Morado&#10;        colors.add(Color.parseColor(&quot;#4CAF50&quot;)); // Entregada - Verde&#10;        dataSet.setColors(colors);&#10;&#10;        dataSet.setValueTextSize(12f);&#10;        dataSet.setValueTextColor(Color.BLACK);&#10;&#10;        BarData barData = new BarData(dataSet);&#10;        barData.setBarWidth(0.9f);&#10;&#10;        chartSolicitudesPorEstado.setData(barData);&#10;        chartSolicitudesPorEstado.getDescription().setEnabled(false);&#10;        chartSolicitudesPorEstado.setFitBars(true);&#10;        chartSolicitudesPorEstado.animateY(1000);&#10;&#10;        // Configurar eje X&#10;        String[] labels = {&quot;Pendiente&quot;, &quot;Asignada&quot;, &quot;Recolectada&quot;, &quot;En Tránsito&quot;, &quot;Entregada&quot;};&#10;        XAxis xAxis = chartSolicitudesPorEstado.getXAxis();&#10;        xAxis.setValueFormatter(new IndexAxisValueFormatter(labels));&#10;        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);&#10;        xAxis.setGranularity(1f);&#10;        xAxis.setGranularityEnabled(true);&#10;        xAxis.setTextSize(10f);&#10;&#10;        // Configurar leyenda&#10;        Legend legend = chartSolicitudesPorEstado.getLegend();&#10;        legend.setEnabled(false);&#10;&#10;        chartSolicitudesPorEstado.invalidate();&#10;    }&#10;&#10;    private void setupPieChart(List&lt;RolCount&gt; usuariosPorRol) {&#10;        ArrayList&lt;PieEntry&gt; entries = new ArrayList&lt;&gt;();&#10;&#10;        for (RolCount rolCount : usuariosPorRol) {&#10;            entries.add(new PieEntry(rolCount.count, getRolLabel(rolCount.rol)));&#10;        }&#10;&#10;        PieDataSet dataSet = new PieDataSet(entries, &quot;Usuarios por Rol&quot;);&#10;&#10;        // Colores para cada rol&#10;        ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;();&#10;        colors.add(Color.parseColor(&quot;#2196F3&quot;)); // REMITENTE - Azul&#10;        colors.add(Color.parseColor(&quot;#4CAF50&quot;)); // RECOLECTOR - Verde&#10;        colors.add(Color.parseColor(&quot;#FF9800&quot;)); // REPARTIDOR - Naranja&#10;        colors.add(Color.parseColor(&quot;#9C27B0&quot;)); // HUB - Morado&#10;        colors.add(Color.parseColor(&quot;#F44336&quot;)); // ADMIN - Rojo&#10;        colors.add(Color.parseColor(&quot;#00BCD4&quot;)); // ASIGNADOR - Cian&#10;        dataSet.setColors(colors);&#10;&#10;        dataSet.setValueTextSize(14f);&#10;        dataSet.setValueTextColor(Color.WHITE);&#10;        dataSet.setSliceSpace(3f);&#10;&#10;        PieData pieData = new PieData(dataSet);&#10;        pieData.setValueFormatter(new ValueFormatter() {&#10;            @Override&#10;            public String getFormattedValue(float value) {&#10;                return String.valueOf((int) value);&#10;            }&#10;        });&#10;&#10;        chartUsuariosPorRol.setData(pieData);&#10;        chartUsuariosPorRol.getDescription().setEnabled(false);&#10;        chartUsuariosPorRol.setDrawHoleEnabled(true);&#10;        chartUsuariosPorRol.setHoleColor(Color.WHITE);&#10;        chartUsuariosPorRol.setHoleRadius(40f);&#10;        chartUsuariosPorRol.setTransparentCircleRadius(45f);&#10;        chartUsuariosPorRol.setCenterText(&quot;Usuarios\npor Rol&quot;);&#10;        chartUsuariosPorRol.setCenterTextSize(14f);&#10;        chartUsuariosPorRol.setEntryLabelColor(Color.BLACK);&#10;        chartUsuariosPorRol.setEntryLabelTextSize(11f);&#10;        chartUsuariosPorRol.animateY(1000);&#10;&#10;        // Configurar leyenda&#10;        Legend legend = chartUsuariosPorRol.getLegend();&#10;        legend.setVerticalAlignment(Legend.LegendVerticalAlignment.BOTTOM);&#10;        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);&#10;        legend.setOrientation(Legend.LegendOrientation.HORIZONTAL);&#10;        legend.setDrawInside(false);&#10;        legend.setTextSize(10f);&#10;&#10;        chartUsuariosPorRol.invalidate();&#10;    }&#10;&#10;    private void setupLineChart(List&lt;FechaCount&gt; solicitudesPorDia) {&#10;        ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();&#10;        ArrayList&lt;String&gt; labels = new ArrayList&lt;&gt;();&#10;&#10;        for (int i = 0; i &lt; solicitudesPorDia.size(); i++) {&#10;            FechaCount fc = solicitudesPorDia.get(i);&#10;            entries.add(new Entry(i, fc.count));&#10;            &#10;            // fc.fecha ya es un String, no necesita formato&#10;            if (fc.fecha != null &amp;&amp; fc.fecha.length() &gt;= 10) {&#10;                // Si es formato yyyy-MM-dd, extraer solo día/mes&#10;                try {&#10;                    String[] parts = fc.fecha.split(&quot;-&quot;);&#10;                    if (parts.length &gt;= 3) {&#10;                        labels.add(parts[2] + &quot;/&quot; + parts[1]); // dd/MM&#10;                    } else {&#10;                        labels.add(fc.fecha);&#10;                    }&#10;                } catch (Exception e) {&#10;                    labels.add(fc.fecha);&#10;                }&#10;            } else {&#10;                labels.add(fc.fecha != null ? fc.fecha : &quot;&quot;);&#10;            }&#10;        }&#10;&#10;        LineDataSet dataSet = new LineDataSet(entries, &quot;Solicitudes&quot;);&#10;        dataSet.setColor(Color.parseColor(&quot;#2196F3&quot;));&#10;        dataSet.setCircleColor(Color.parseColor(&quot;#2196F3&quot;));&#10;        dataSet.setLineWidth(2f);&#10;        dataSet.setCircleRadius(4f);&#10;        dataSet.setDrawCircleHole(false);&#10;        dataSet.setValueTextSize(10f);&#10;        dataSet.setDrawFilled(true);&#10;        dataSet.setFillColor(Color.parseColor(&quot;#2196F3&quot;));&#10;        dataSet.setFillAlpha(50);&#10;        dataSet.setMode(LineDataSet.Mode.CUBIC_BEZIER);&#10;&#10;        LineData lineData = new LineData(dataSet);&#10;&#10;        chartSolicitudesUltimos7Dias.setData(lineData);&#10;        chartSolicitudesUltimos7Dias.getDescription().setEnabled(false);&#10;        chartSolicitudesUltimos7Dias.animateX(1000);&#10;&#10;        // Configurar eje X&#10;        XAxis xAxis = chartSolicitudesUltimos7Dias.getXAxis();&#10;        xAxis.setValueFormatter(new IndexAxisValueFormatter(labels));&#10;        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);&#10;        xAxis.setGranularity(1f);&#10;        xAxis.setTextSize(10f);&#10;&#10;        // Configurar leyenda&#10;        Legend legend = chartSolicitudesUltimos7Dias.getLegend();&#10;        legend.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);&#10;        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);&#10;        legend.setTextSize(10f);&#10;&#10;        chartSolicitudesUltimos7Dias.invalidate();&#10;    }&#10;&#10;    private String getRolLabel(String rol) {&#10;        switch (rol) {&#10;            case &quot;REMITENTE&quot;: return &quot;Remitente&quot;;&#10;            case &quot;RECOLECTOR&quot;: return &quot;Recolector&quot;;&#10;            case &quot;REPARTIDOR&quot;: return &quot;Repartidor&quot;;&#10;            case &quot;HUB&quot;: return &quot;Hub&quot;;&#10;            case &quot;ADMIN&quot;: return &quot;Admin&quot;;&#10;            case &quot;ASIGNADOR&quot;: return &quot;Asignador&quot;;&#10;            default: return rol;&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/ui/DetalleEntregaFragment.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/ui/DetalleEntregaFragment.java" />
              <option name="originalContent" value="package com.hfad.encomiendas.ui;&#10;&#10;import android.Manifest;&#10;import android.app.AlertDialog;&#10;import android.content.pm.PackageManager;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.core.content.ContextCompat;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.recyclerview.widget.LinearLayoutManager;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;import com.google.android.gms.location.FusedLocationProviderClient;&#10;import com.google.android.gms.location.LocationServices;&#10;import com.google.android.gms.location.Priority;&#10;import com.google.android.gms.maps.CameraUpdateFactory;&#10;import com.google.android.gms.maps.GoogleMap;&#10;import com.google.android.gms.maps.OnMapReadyCallback;&#10;import com.google.android.gms.maps.SupportMapFragment;&#10;import com.google.android.gms.maps.model.BitmapDescriptorFactory;&#10;import com.google.android.gms.maps.model.LatLng;&#10;import com.google.android.gms.maps.model.Marker;&#10;import com.google.android.gms.maps.model.MarkerOptions;&#10;import com.google.android.material.button.MaterialButton;&#10;import com.google.android.material.chip.Chip;&#10;import com.hfad.encomiendas.R;&#10;import com.hfad.encomiendas.core.DeliveryDispatcherService;&#10;import com.hfad.encomiendas.core.TrackingService;&#10;import com.hfad.encomiendas.data.AppDatabase;&#10;import com.hfad.encomiendas.data.Asignacion;&#10;import com.hfad.encomiendas.data.AsignacionDao;&#10;import com.hfad.encomiendas.data.Solicitud;&#10;import com.hfad.encomiendas.ui.adapters.TrackingAdapter;&#10;&#10;import java.text.SimpleDateFormat;&#10;import java.util.Date;&#10;import java.util.Locale;&#10;import java.util.concurrent.Executors;&#10;&#10;public class DetalleEntregaFragment extends Fragment implements OnMapReadyCallback {&#10;&#10;    private static final String ARG_ID = &quot;asignacionId&quot;;&#10;    private int asignacionId;&#10;&#10;    private TextView tvTitulo, tvEstado, tvEta;&#10;    private Chip chipDistance;&#10;    private MaterialButton btnIniciarRuta, btnEntregado;&#10;    private RecyclerView rvTimeline;&#10;    private TrackingAdapter trackingAdapter;&#10;&#10;    private TrackingService tracking;&#10;    private FusedLocationProviderClient fused;&#10;&#10;    private GoogleMap gmap;&#10;    private Marker markerCourier, markerDestino;&#10;&#10;    private long solicitudId = -1;&#10;    private Double destinoLat, destinoLon;&#10;    private String estadoAsignacion = &quot;&quot;;&#10;&#10;    private String lastEtaIso = null;&#10;    private Double lastDistanceKm = null;&#10;    private Double lastLat = null, lastLon = null;&#10;&#10;    private boolean locationUpdatesStarted = false;&#10;    private com.google.android.gms.location.LocationCallback locationCallback;&#10;&#10;    public DetalleEntregaFragment() {}&#10;&#10;    @Nullable @Override public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_detalle_entrega, container, false);&#10;    }&#10;&#10;    @Override public void onCreate(@Nullable Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        asignacionId = getArguments() != null ? getArguments().getInt(ARG_ID, -1) : -1;&#10;    }&#10;&#10;    @Override public void onViewCreated(@NonNull View v, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(v, savedInstanceState);&#10;        tvTitulo = v.findViewById(R.id.tvTitulo);&#10;        tvEstado = v.findViewById(R.id.tvEstado);&#10;        tvEta = v.findViewById(R.id.tvEta);&#10;        chipDistance = v.findViewById(R.id.chipDistance);&#10;        btnIniciarRuta = v.findViewById(R.id.btnIniciarRuta);&#10;        btnEntregado = v.findViewById(R.id.btnMarcarEntregado);&#10;        rvTimeline = v.findViewById(R.id.rvTimeline);&#10;        rvTimeline.setLayoutManager(new LinearLayoutManager(requireContext()));&#10;        trackingAdapter = new TrackingAdapter();&#10;        rvTimeline.setAdapter(trackingAdapter);&#10;&#10;        tracking = new TrackingService(AppDatabase.getInstance(requireContext()));&#10;        fused = LocationServices.getFusedLocationProviderClient(requireContext());&#10;&#10;        SupportMapFragment mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map_container_entrega);&#10;        if (mapFragment == null) {&#10;            mapFragment = SupportMapFragment.newInstance();&#10;            getChildFragmentManager().beginTransaction().replace(R.id.map_container_entrega, mapFragment).commit();&#10;        }&#10;        mapFragment.getMapAsync(this);&#10;&#10;        btnIniciarRuta.setOnClickListener(v1 -&gt; iniciarRuta());&#10;        btnEntregado.setOnClickListener(v12 -&gt; marcarEntregado());&#10;&#10;        cargar();&#10;    }&#10;&#10;    private void cargar() {&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                Asignacion a = db.asignacionDao().getById(asignacionId);&#10;                if (a == null) { runOnUi(() -&gt; toast(&quot;Asignación no encontrada&quot;)); return; }&#10;                solicitudId = a.solicitudId;&#10;                estadoAsignacion = a.estado;&#10;&#10;                Solicitud s = db.solicitudDao().byId(solicitudId);&#10;                if (s != null) { destinoLat = s.lat; destinoLon = s.lon; }&#10;&#10;                runOnUi(() -&gt; {&#10;                    tvTitulo.setText(&quot;Entrega #&quot; + asignacionId);&#10;                    tvEstado.setText(estadoAsignacion);&#10;                    actualizarBotones();&#10;                    refreshTimeline();&#10;                });&#10;            } catch (Exception e) {&#10;                runOnUi(() -&gt; toast(&quot;Error: &quot; + e.getMessage()));&#10;            }&#10;        });&#10;    }&#10;&#10;    private void refreshTimeline() {&#10;        if (solicitudId &lt;= 0) return;&#10;        tracking.loadTimelineAndEta(solicitudId, (ev, eta) -&gt; {&#10;            if (trackingAdapter != null) trackingAdapter.submit(ev);&#10;            if (eta != null &amp;&amp; eta.eta != null) {&#10;                lastEtaIso = eta.eta;&#10;                tvEta.setText(&quot;ETA: &quot; + eta.eta);&#10;            }&#10;        });&#10;    }&#10;&#10;    private void iniciarRuta() {&#10;        if (estadoAsignacion.startsWith(&quot;OUT_FOR_DELIVERY&quot;)) return;&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                db.asignacionDao().marcarOutForDelivery(asignacionId);&#10;                db.solicitudDao().marcarEnRutaEntrega(solicitudId);&#10;                estadoAsignacion = &quot;OUT_FOR_DELIVERY&quot;;&#10;                // Evento&#10;                tracking.logEvent(solicitudId, &quot;OUT_FOR_DELIVERY&quot;, &quot;Repartidor en ruta&quot;, null, null, null);&#10;                runOnUi(() -&gt; {&#10;                    toast(&quot;Ruta iniciada&quot;);&#10;                    tvEstado.setText(estadoAsignacion);&#10;                    actualizarBotones();&#10;                    startLocationUpdates();&#10;                });&#10;            } catch (Exception e) {&#10;                runOnUi(() -&gt; toast(&quot;Error: &quot; + e.getMessage()));&#10;            }&#10;        });&#10;    }&#10;&#10;    private void marcarEntregado() {&#10;        if (!&quot;OUT_FOR_DELIVERY&quot;.equals(estadoAsignacion) &amp;&amp; !&quot;DISPATCHED_LAST_MILE&quot;.equals(estadoAsignacion)) return;&#10;        new AlertDialog.Builder(requireContext())&#10;                .setTitle(&quot;Confirmar entrega&quot;)&#10;                .setMessage(&quot;¿Marcar como ENTREGADO?&quot;)&#10;                .setNegativeButton(&quot;Cancelar&quot;, null)&#10;                .setPositiveButton(&quot;Sí&quot;, (d,w) -&gt; Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;                    try {&#10;                        AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                        db.asignacionDao().marcarEntregada(asignacionId);&#10;                        db.solicitudDao().marcarEntregada(solicitudId);&#10;                        tracking.logEvent(solicitudId, &quot;DELIVERED&quot;, &quot;Entrega confirmada&quot;, null, null, null);&#10;                        estadoAsignacion = &quot;DELIVERED&quot;;&#10;                        runOnUi(() -&gt; {&#10;                            toast(&quot;Entregado&quot;);&#10;                            tvEstado.setText(estadoAsignacion);&#10;                            stopLocationUpdates();&#10;                            actualizarBotones();&#10;                        });&#10;                    } catch (Exception ex) {&#10;                        runOnUi(() -&gt; toast(&quot;Error: &quot; + ex.getMessage()));&#10;                    }&#10;                }))&#10;                .show();&#10;    }&#10;&#10;    private void actualizarBotones() {&#10;        boolean delivered = &quot;DELIVERED&quot;.equals(estadoAsignacion);&#10;        boolean out = &quot;OUT_FOR_DELIVERY&quot;.equals(estadoAsignacion);&#10;        btnIniciarRuta.setEnabled(!delivered &amp;&amp; !out);&#10;        btnEntregado.setEnabled(out || &quot;DISPATCHED_LAST_MILE&quot;.equals(estadoAsignacion));&#10;        float a1 = btnIniciarRuta.isEnabled()?1f:0.4f; btnIniciarRuta.setAlpha(a1);&#10;        float a2 = btnEntregado.isEnabled()?1f:0.4f; btnEntregado.setAlpha(a2);&#10;    }&#10;&#10;    @Override public void onMapReady(@NonNull GoogleMap googleMap) {&#10;        gmap = googleMap;&#10;        gmap.getUiSettings().setZoomControlsEnabled(true);&#10;        addDestinoMarker();&#10;        if (&quot;OUT_FOR_DELIVERY&quot;.equals(estadoAsignacion)) startLocationUpdates();&#10;    }&#10;&#10;    private void addDestinoMarker() {&#10;        if (gmap == null || destinoLat == null || destinoLon == null) return;&#10;        if (markerDestino == null) {&#10;            markerDestino = gmap.addMarker(new MarkerOptions().position(new LatLng(destinoLat, destinoLon)).title(&quot;Destino&quot;));&#10;        }&#10;    }&#10;&#10;    private void startLocationUpdates() {&#10;        if (locationUpdatesStarted) return;&#10;        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) return;&#10;        locationCallback = new com.google.android.gms.location.LocationCallback() {&#10;            @Override public void onLocationResult(@NonNull com.google.android.gms.location.LocationResult result) {&#10;                if (result.getLastLocation()==null) return;&#10;                double lat = result.getLastLocation().getLatitude();&#10;                double lon = result.getLastLocation().getLongitude();&#10;                lastLat = lat; lastLon = lon;&#10;                updateCourierMarker(new LatLng(lat, lon));&#10;                recalcEta(lat, lon);&#10;            }&#10;        };&#10;        com.google.android.gms.location.LocationRequest req = new com.google.android.gms.location.LocationRequest.Builder(Priority.PRIORITY_BALANCED_POWER_ACCURACY, 15000)&#10;                .setMinUpdateIntervalMillis(8000)&#10;                .build();&#10;        fused.requestLocationUpdates(req, locationCallback, requireActivity().getMainLooper());&#10;        locationUpdatesStarted = true;&#10;    }ayu&#10;&#10;    private void stopLocationUpdates() {&#10;        if (!locationUpdatesStarted || locationCallback==null) return;&#10;        fused.removeLocationUpdates(locationCallback);&#10;        locationUpdatesStarted = false;&#10;    }&#10;&#10;    private void updateCourierMarker(LatLng p) {&#10;        if (gmap == null) return;&#10;        if (markerCourier == null) {&#10;            markerCourier = gmap.addMarker(new MarkerOptions().position(p).title(&quot;Repartidor&quot;).icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_AZURE)));&#10;            gmap.animateCamera(CameraUpdateFactory.newLatLngZoom(p, 15f));&#10;        } else {&#10;            markerCourier.setPosition(p);&#10;        }&#10;    }&#10;&#10;    private void recalcEta(double olat, double olon) {&#10;        if (destinoLat == null || destinoLon == null) return;&#10;        double km;&#10;        try { km = TrackingService.haversine(olat, olon, destinoLat, destinoLon); } catch (Exception e) { km = 5; }&#10;        if (km &lt; 0) km = 0;&#10;        lastDistanceKm = km;&#10;        if (km &lt;= 0.05) {&#10;            tvEta.setText(&quot;ETA: Arribo&quot;);&#10;            chipDistance.setText(&quot;&lt;50m&quot;);&#10;            return;&#10;        }&#10;        String etaIso = TrackingService.calcEtaIso(Math.max(0.3, km), 25);&#10;        lastEtaIso = etaIso;&#10;        String distStr = km &gt;=1 ? String.format(Locale.getDefault(),&quot;%.1f km&quot;, km) : ((int)Math.round(km*1000))+&quot; m&quot;;&#10;        tvEta.setText(&quot;ETA: &quot; + shortTime(etaIso) + &quot; (&quot; + distStr + &quot;)&quot;);&#10;        chipDistance.setText(distStr);&#10;    }&#10;&#10;    private String shortTime(String iso) {&#10;        if (iso == null) return &quot;—&quot;;&#10;        try {&#10;            SimpleDateFormat in = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;, Locale.getDefault());&#10;            Date d = in.parse(iso);&#10;            if (d == null) return iso;&#10;            return android.text.format.DateFormat.getTimeFormat(requireContext()).format(d);&#10;        } catch (Exception e) { return iso; }&#10;    }&#10;&#10;    private void runOnUi(Runnable r){ if(!isAdded())return; requireActivity().runOnUiThread(r);}    private void toast(String s){ if(!isAdded())return; Toast.makeText(requireContext(), s, Toast.LENGTH_SHORT).show(); }&#10;&#10;    @Override public void onPause(){ super.onPause(); stopLocationUpdates(); }&#10;    @Override public void onDestroyView(){ stopLocationUpdates(); gmap=null; super.onDestroyView(); }&#10;}&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="package com.hfad.encomiendas.ui;&#10;&#10;import android.Manifest;&#10;import android.app.AlertDialog;&#10;import android.content.pm.PackageManager;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.core.content.ContextCompat;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.recyclerview.widget.LinearLayoutManager;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;&#10;import com.google.android.gms.location.FusedLocationProviderClient;&#10;import com.google.android.gms.location.LocationServices;&#10;import com.google.android.gms.location.Priority;&#10;import com.google.android.gms.maps.CameraUpdateFactory;&#10;import com.google.android.gms.maps.GoogleMap;&#10;import com.google.android.gms.maps.OnMapReadyCallback;&#10;import com.google.android.gms.maps.SupportMapFragment;&#10;import com.google.android.gms.maps.model.BitmapDescriptorFactory;&#10;import com.google.android.gms.maps.model.LatLng;&#10;import com.google.android.gms.maps.model.Marker;&#10;import com.google.android.gms.maps.model.MarkerOptions;&#10;import com.google.android.gms.maps.model.MapStyleOptions;&#10;import com.google.android.gms.maps.model.Polyline;&#10;import com.google.android.gms.maps.model.PolylineOptions;&#10;import com.google.android.material.button.MaterialButton;&#10;import com.google.android.material.chip.Chip;&#10;import com.hfad.encomiendas.R;&#10;import com.hfad.encomiendas.core.TrackingService;&#10;import com.hfad.encomiendas.data.AppDatabase;&#10;import com.hfad.encomiendas.data.Solicitud;&#10;import com.hfad.encomiendas.ui.adapters.TrackingAdapter;&#10;&#10;import java.text.SimpleDateFormat;&#10;import java.util.Date;&#10;import java.util.Locale;&#10;import java.util.concurrent.Executors;&#10;&#10;import okhttp3.OkHttpClient;&#10;import okhttp3.Request;&#10;import okhttp3.Response;&#10;import org.json.JSONArray;&#10;import org.json.JSONObject;&#10;import com.hfad.encomiendas.BuildConfig;&#10;&#10;public class DetalleEntregaFragment extends Fragment implements OnMapReadyCallback {&#10;&#10;    private static final String ARG_ID = &quot;asignacionId&quot;;&#10;    private int asignacionId;&#10;&#10;    private TextView tvTitulo, tvEstado, tvEta;&#10;    private Chip chipDistance;&#10;    private MaterialButton btnIniciarRuta, btnEntregado;&#10;    private RecyclerView rvTimeline;&#10;    private TrackingAdapter trackingAdapter;&#10;&#10;    private TrackingService tracking;&#10;    private FusedLocationProviderClient fused;&#10;&#10;    private GoogleMap gmap;&#10;    private Marker markerCourier, markerDestino;&#10;&#10;    private long solicitudId = -1;&#10;    private Double destinoLat, destinoLon;&#10;    private String estadoAsignacion = &quot;&quot;;&#10;&#10;    private String lastEtaIso = null;&#10;    private Double lastDistanceKm = null;&#10;    private Double lastLat = null, lastLon = null;&#10;&#10;    private boolean locationUpdatesStarted = false;&#10;    private com.google.android.gms.location.LocationCallback locationCallback;&#10;&#10;    // --- Campos añadidos para ruta/estilo ---&#10;    private Polyline rutaPolyline;&#10;    private java.util.List&lt;Polyline&gt; routeSegments = new java.util.ArrayList&lt;&gt;();&#10;    private boolean directionsRequested = false;&#10;    private Double lastRouteOriginLat = null, lastRouteOriginLon = null;&#10;    private long lastCameraFollow = 0L;&#10;    private static final long CAMERA_FOLLOW_INTERVAL_MS = 5000L;&#10;    private static final double ROUTE_REFRESH_MIN_MOVEMENT_KM = 0.5; // 500 m&#10;    private static final double CLOSE_DISTANCE_KM = 0.2; // 200 m&#10;    private boolean markerCloseApplied = false;&#10;    private final OkHttpClient httpClient = new OkHttpClient();&#10;&#10;    public DetalleEntregaFragment() {}&#10;&#10;    @Nullable @Override public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_detalle_entrega, container, false);&#10;    }&#10;&#10;    @Override public void onCreate(@Nullable Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        asignacionId = getArguments() != null ? getArguments().getInt(ARG_ID, -1) : -1;&#10;    }&#10;&#10;    @Override public void onViewCreated(@NonNull View v, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(v, savedInstanceState);&#10;        tvTitulo = v.findViewById(R.id.tvTitulo);&#10;        tvEstado = v.findViewById(R.id.tvEstado);&#10;        tvEta = v.findViewById(R.id.tvEta);&#10;        chipDistance = v.findViewById(R.id.chipDistance);&#10;        btnIniciarRuta = v.findViewById(R.id.btnIniciarRuta);&#10;        btnEntregado = v.findViewById(R.id.btnMarcarEntregado);&#10;        rvTimeline = v.findViewById(R.id.rvTimeline);&#10;        rvTimeline.setLayoutManager(new LinearLayoutManager(requireContext()));&#10;        trackingAdapter = new TrackingAdapter();&#10;        rvTimeline.setAdapter(trackingAdapter);&#10;&#10;        tracking = new TrackingService(AppDatabase.getInstance(requireContext()));&#10;        fused = LocationServices.getFusedLocationProviderClient(requireContext());&#10;&#10;        SupportMapFragment mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map_container_entrega);&#10;        if (mapFragment == null) {&#10;            mapFragment = SupportMapFragment.newInstance();&#10;            getChildFragmentManager().beginTransaction().replace(R.id.map_container_entrega, mapFragment).commit();&#10;        }&#10;        mapFragment.getMapAsync(this);&#10;&#10;        btnIniciarRuta.setOnClickListener(v1 -&gt; iniciarRuta());&#10;        btnEntregado.setOnClickListener(v12 -&gt; marcarEntregado());&#10;&#10;        cargar();&#10;    }&#10;&#10;    private void cargar() {&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                // Recuperar asignación principal&#10;                com.hfad.encomiendas.data.Asignacion a = db.asignacionDao().getById(asignacionId);&#10;                if (a != null) {&#10;                    solicitudId = a.solicitudId;&#10;                    estadoAsignacion = a.estado != null ? a.estado : &quot;&quot;;&#10;                }&#10;                // Recuperar solicitud para coords&#10;                if (solicitudId &gt; 0) {&#10;                    Solicitud s = db.solicitudDao().byId(solicitudId);&#10;                    if (s != null) { destinoLat = s.lat; destinoLon = s.lon; }&#10;                }&#10;                runOnUi(() -&gt; {&#10;                    tvTitulo.setText(getString(R.string.title_format, asignacionId, estadoAsignacion));&#10;                    tvEstado.setText(estadoAsignacion);&#10;                    actualizarBotones();&#10;                    refreshTimeline();&#10;                });&#10;            } catch (Exception e) {&#10;                runOnUi(() -&gt; toast(&quot;Error: &quot; + e.getMessage()));&#10;            }&#10;        });&#10;    }&#10;&#10;    private void refreshTimeline() {&#10;        if (solicitudId &lt;= 0) return;&#10;        tracking.loadTimelineAndEta(solicitudId, (ev, eta) -&gt; {&#10;            if (trackingAdapter != null) trackingAdapter.submit(ev);&#10;            if (eta != null &amp;&amp; eta.eta != null) {&#10;                lastEtaIso = eta.eta;&#10;                String shortT = shortTime(eta.eta);&#10;                tvEta.setText(getString(R.string.eta_format_only, shortT));&#10;            } else {&#10;                tvEta.setText(getString(R.string.eta_unknown));&#10;            }&#10;        });&#10;    }&#10;&#10;    private void iniciarRuta() {&#10;        if (estadoAsignacion.startsWith(&quot;OUT_FOR_DELIVERY&quot;)) return;&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                db.asignacionDao().marcarOutForDelivery(asignacionId);&#10;                db.solicitudDao().marcarEnRutaEntrega(solicitudId);&#10;                estadoAsignacion = &quot;OUT_FOR_DELIVERY&quot;;&#10;                // Evento&#10;                tracking.logEvent(solicitudId, &quot;OUT_FOR_DELIVERY&quot;, &quot;Repartidor en ruta&quot;, null, null, null);&#10;                runOnUi(() -&gt; {&#10;                    toast(&quot;Ruta iniciada&quot;);&#10;                    tvEstado.setText(estadoAsignacion);&#10;                    actualizarBotones();&#10;                    startLocationUpdates();&#10;                });&#10;            } catch (Exception e) {&#10;                runOnUi(() -&gt; toast(&quot;Error: &quot; + e.getMessage()));&#10;            }&#10;        });&#10;    }&#10;&#10;    private void marcarEntregado() {&#10;        if (!&quot;OUT_FOR_DELIVERY&quot;.equals(estadoAsignacion) &amp;&amp; !&quot;DISPATCHED_LAST_MILE&quot;.equals(estadoAsignacion)) return;&#10;        new AlertDialog.Builder(requireContext())&#10;                .setTitle(&quot;Confirmar entrega&quot;)&#10;                .setMessage(&quot;¿Marcar como ENTREGADO?&quot;)&#10;                .setNegativeButton(&quot;Cancelar&quot;, null)&#10;                .setPositiveButton(&quot;Sí&quot;, (d,w) -&gt; Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;                    try {&#10;                        AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                        db.asignacionDao().marcarEntregada(asignacionId);&#10;                        db.solicitudDao().marcarEntregada(solicitudId);&#10;                        tracking.logEvent(solicitudId, &quot;DELIVERED&quot;, &quot;Entrega confirmada&quot;, null, null, null);&#10;                        estadoAsignacion = &quot;DELIVERED&quot;;&#10;                        runOnUi(() -&gt; {&#10;                            toast(&quot;Entregado&quot;); // reutilizamos literal para evitar nuevos resources&#10;                            tvEstado.setText(estadoAsignacion);&#10;                            stopLocationUpdates();&#10;                            actualizarBotones();&#10;                        });&#10;                    } catch (Exception ex) {&#10;                        runOnUi(() -&gt; toast(&quot;Error: &quot; + ex.getMessage()));&#10;                    }&#10;                }))&#10;                .show();&#10;    }&#10;&#10;    private void actualizarBotones() {&#10;        boolean delivered = &quot;DELIVERED&quot;.equals(estadoAsignacion);&#10;        boolean out = &quot;OUT_FOR_DELIVERY&quot;.equals(estadoAsignacion);&#10;        btnIniciarRuta.setEnabled(!delivered &amp;&amp; !out);&#10;        btnEntregado.setEnabled(out || &quot;DISPATCHED_LAST_MILE&quot;.equals(estadoAsignacion));&#10;        float a1 = btnIniciarRuta.isEnabled()?1f:0.4f; btnIniciarRuta.setAlpha(a1);&#10;        float a2 = btnEntregado.isEnabled()?1f:0.4f; btnEntregado.setAlpha(a2);&#10;    }&#10;&#10;    @Override public void onMapReady(@NonNull GoogleMap googleMap) {&#10;        gmap = googleMap;&#10;        gmap.getUiSettings().setZoomControlsEnabled(true);&#10;        gmap.getUiSettings().setCompassEnabled(true);&#10;        applyDarkStyleIfNeeded();&#10;        addDestinoMarker();&#10;        requestSingleCourierLocationAndCenter();&#10;        if (&quot;OUT_FOR_DELIVERY&quot;.equals(estadoAsignacion) || &quot;DISPATCHED_LAST_MILE&quot;.equals(estadoAsignacion)) startLocationUpdates();&#10;    }&#10;&#10;    // --- Estilo nocturno ---&#10;    private void applyDarkStyleIfNeeded(){&#10;        if (gmap==null) return;&#10;        int nightMask = getResources().getConfiguration().uiMode &amp; android.content.res.Configuration.UI_MODE_NIGHT_MASK;&#10;        if (nightMask == android.content.res.Configuration.UI_MODE_NIGHT_YES) {&#10;            try { gmap.setMapStyle(MapStyleOptions.loadRawResourceStyle(requireContext(), R.raw.map_dark)); } catch (Exception ignore) {}&#10;        }&#10;    }&#10;&#10;    // --- Ubicación única para centrar cámara y dibujar línea simple inicial ---&#10;    private void requestSingleCourierLocationAndCenter(){&#10;        if (fused==null || gmap==null) return;&#10;        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) return;&#10;        fused.getCurrentLocation(Priority.PRIORITY_BALANCED_POWER_ACCURACY, null)&#10;                .addOnSuccessListener(loc -&gt; {&#10;                    if (loc==null) return;&#10;                    double lat = loc.getLatitude(); double lon = loc.getLongitude();&#10;                    lastLat = lat; lastLon = lon;&#10;                    LatLng courier = new LatLng(lat, lon);&#10;                    updateCourierMarker(courier);&#10;                    if (destinoLat!=null &amp;&amp; destinoLon!=null){&#10;                        LatLng dest = new LatLng(destinoLat, destinoLon);&#10;                        try {&#10;                            gmap.moveCamera(CameraUpdateFactory.newLatLngBounds(new com.google.android.gms.maps.model.LatLngBounds.Builder().include(courier).include(dest).build(), 120));&#10;                        } catch (Exception ex){&#10;                            gmap.moveCamera(CameraUpdateFactory.newLatLngZoom(courier, 15f));&#10;                        }&#10;                        updateRoutePolylineSimple(courier);&#10;                        tryFetchDirectionsIfNeeded(lat, lon); // precargar ruta si hay API KEY&#10;                    } else {&#10;                        gmap.moveCamera(CameraUpdateFactory.newLatLngZoom(courier, 15f));&#10;                    }&#10;                });&#10;    }&#10;&#10;    // --- Cámara sigue al repartidor cada cierto tiempo ---&#10;    private void followCameraIfNeeded(LatLng pos){&#10;        if (gmap==null || pos==null) return;&#10;        long now = System.currentTimeMillis();&#10;        if (now - lastCameraFollow &lt; CAMERA_FOLLOW_INTERVAL_MS) return;&#10;        lastCameraFollow = now;&#10;        float zoom = gmap.getCameraPosition()!=null? gmap.getCameraPosition().zoom : 15f;&#10;        try { gmap.animateCamera(CameraUpdateFactory.newLatLngZoom(pos, zoom)); } catch (Exception ignore) {}&#10;    }&#10;&#10;    private void startLocationUpdates() {&#10;        if (locationUpdatesStarted) return;&#10;        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) return;&#10;        locationCallback = new com.google.android.gms.location.LocationCallback() {&#10;            @Override public void onLocationResult(@NonNull com.google.android.gms.location.LocationResult result) {&#10;                if (result.getLastLocation()==null) return;&#10;                double lat = result.getLastLocation().getLatitude();&#10;                double lon = result.getLastLocation().getLongitude();&#10;                lastLat = lat; lastLon = lon;&#10;                LatLng p = new LatLng(lat, lon);&#10;                updateCourierMarker(p);&#10;                recalcEta(lat, lon);&#10;                tryFetchDirectionsIfNeeded(lat, lon);&#10;            }&#10;        };&#10;        com.google.android.gms.location.LocationRequest req = new com.google.android.gms.location.LocationRequest.Builder(Priority.PRIORITY_BALANCED_POWER_ACCURACY, 12000)&#10;                .setMinUpdateIntervalMillis(6000)&#10;                .build();&#10;        fused.requestLocationUpdates(req, locationCallback, requireActivity().getMainLooper());&#10;        locationUpdatesStarted = true;&#10;    }&#10;&#10;    private void stopLocationUpdates(){&#10;        if (!locationUpdatesStarted || fused==null || locationCallback==null) return;&#10;        try { fused.removeLocationUpdates(locationCallback); } catch (Exception ignore) {}&#10;        locationUpdatesStarted = false;&#10;        locationCallback = null;&#10;    }&#10;&#10;    private void updateCourierMarker(LatLng p) {&#10;        if (gmap == null) return;&#10;        if (markerCourier == null) {&#10;            markerCourier = gmap.addMarker(new MarkerOptions().position(p).title(&quot;Repartidor&quot;).icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_AZURE)));&#10;        } else {&#10;            markerCourier.setPosition(p);&#10;        }&#10;        followCameraIfNeeded(p);&#10;        updateRoutePolylineSimple(p);&#10;    }&#10;&#10;    private void addDestinoMarker(){&#10;        if (gmap==null || destinoLat==null || destinoLon==null) return;&#10;        LatLng dest = new LatLng(destinoLat, destinoLon);&#10;        if (markerDestino==null){&#10;            markerDestino = gmap.addMarker(new MarkerOptions()&#10;                    .position(dest)&#10;                    .title(getString(R.string.destination_label))&#10;                    .icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_RED))&#10;            );&#10;        } else {&#10;            markerDestino.setPosition(dest);&#10;        }&#10;    }&#10;&#10;    // --- Línea simple mientras no haya ruta real ---&#10;    private void updateRoutePolylineSimple(LatLng courier){&#10;        if (gmap==null || destinoLat==null || destinoLon==null || courier==null) return;&#10;        if (directionsRequested) return; // ya se mostró ruta detallada&#10;        LatLng dest = new LatLng(destinoLat, destinoLon);&#10;        if (rutaPolyline==null){&#10;            rutaPolyline = gmap.addPolyline(new PolylineOptions().add(courier, dest).color(0xFF1565C0).width(8f));&#10;        } else {&#10;            rutaPolyline.setPoints(java.util.Arrays.asList(courier, dest));&#10;        }&#10;    }&#10;&#10;    // --- Descarga ruta de Directions con gradiente ---&#10;    private void tryFetchDirectionsIfNeeded(double origenLat, double origenLon){&#10;        if (destinoLat==null || destinoLon==null) return;&#10;        String apiKey = BuildConfig.MAPS_API_KEY;&#10;        if (TextUtils.isEmpty(apiKey)) return; // sin API KEY mantenemos línea simple&#10;        double moved = (lastRouteOriginLat!=null &amp;&amp; lastRouteOriginLon!=null) ? TrackingService.haversine(lastRouteOriginLat, lastRouteOriginLon, origenLat, origenLon) : Double.MAX_VALUE;&#10;        if (directionsRequested &amp;&amp; moved &lt; ROUTE_REFRESH_MIN_MOVEMENT_KM) return;&#10;        directionsRequested = true;&#10;        lastRouteOriginLat = origenLat; lastRouteOriginLon = origenLon;&#10;        final String url = &quot;https://maps.googleapis.com/maps/api/directions/json?origin=&quot;+origenLat+&quot;,&quot;+origenLon+&quot;&amp;destination=&quot;+destinoLat+&quot;,&quot;+destinoLon+&quot;&amp;mode=driving&amp;key=&quot;+apiKey;&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                Request rq = new Request.Builder().url(url).build();&#10;                try (Response resp = httpClient.newCall(rq).execute()) {&#10;                    if (!resp.isSuccessful()) throw new RuntimeException(&quot;HTTP &quot;+resp.code());&#10;                    String body = resp.body()!=null? resp.body().string():null;&#10;                    if (body==null) throw new RuntimeException(&quot;Sin body&quot;);&#10;                    JSONObject json = new JSONObject(body);&#10;                    JSONArray routes = json.optJSONArray(&quot;routes&quot;);&#10;                    if (routes!=null &amp;&amp; routes.length()&gt;0){&#10;                        JSONObject r0 = routes.getJSONObject(0);&#10;                        JSONObject overview = r0.optJSONObject(&quot;overview_polyline&quot;);&#10;                        if (overview!=null){&#10;                            String pts = overview.optString(&quot;points&quot;);&#10;                            java.util.List&lt;LatLng&gt; decoded = decodePoly(pts);&#10;                            runOnUi(() -&gt; drawGradientRoute(decoded));&#10;                        }&#10;                    }&#10;                }&#10;            } catch (Exception ex){&#10;                runOnUi(() -&gt; directionsRequested = false); // permitir reintento&#10;            }&#10;        });&#10;    }&#10;&#10;    private void clearRouteSegments(){&#10;        for (Polyline p : routeSegments) try { p.remove(); } catch (Exception ignore) {}&#10;        routeSegments.clear();&#10;        if (rutaPolyline!=null){ try { rutaPolyline.remove(); } catch (Exception ignore) {} rutaPolyline=null; }&#10;    }&#10;&#10;    private void drawGradientRoute(java.util.List&lt;LatLng&gt; points){&#10;        if (gmap==null || points==null || points.size()&lt;2) return;&#10;        clearRouteSegments();&#10;        int maxPts=120;&#10;        if (points.size()&gt;maxPts){&#10;            java.util.List&lt;LatLng&gt; reduced = new java.util.ArrayList&lt;&gt;();&#10;            double step = (double)(points.size()-1)/(maxPts-1);&#10;            for (int i=0;i&lt;maxPts;i++) reduced.add(points.get((int)Math.round(i*step)));&#10;            points = reduced;&#10;        }&#10;        int n = points.size();&#10;        int startColor=0xFF1565C0, endColor=0xFF2E7D32;&#10;        for (int i=0;i&lt;n-1;i++){&#10;            LatLng a = points.get(i), b = points.get(i+1);&#10;            float f = (float)i/(float)(n-2);&#10;            int c = interpolateColor(startColor, endColor, f);&#10;            Polyline seg = gmap.addPolyline(new PolylineOptions().add(a,b).color(c).width(12f).zIndex(10f));&#10;            routeSegments.add(seg);&#10;        }&#10;    }&#10;&#10;    private int interpolateColor(int c1, int c2, float f){&#10;        int a1=(c1&gt;&gt;24)&amp;0xFF,r1=(c1&gt;&gt;16)&amp;0xFF,g1=(c1&gt;&gt;8)&amp;0xFF,b1=c1&amp;0xFF;&#10;        int a2=(c2&gt;&gt;24)&amp;0xFF,r2=(c2&gt;&gt;16)&amp;0xFF,g2=(c2&gt;&gt;8)&amp;0xFF,b2=c2&amp;0xFF;&#10;        int a=(int)(a1+(a2-a1)*f), r=(int)(r1+(r2-r1)*f), g=(int)(g1+(g2-g1)*f), b=(int)(b1+(b2-b1)*f);&#10;        return (a&lt;&lt;24)|(r&lt;&lt;16)|(g&lt;&lt;8)|b;&#10;    }&#10;&#10;    private java.util.List&lt;LatLng&gt; decodePoly(String encoded){&#10;        java.util.List&lt;LatLng&gt; poly = new java.util.ArrayList&lt;&gt;();&#10;        if (encoded==null) return poly;&#10;        int len=encoded.length(), index=0, lat=0, lng=0;&#10;        while (index &lt; len){&#10;            int b, shift=0, result=0;&#10;            do { b = encoded.charAt(index++) - 63; result |= (b &amp; 0x1f) &lt;&lt; shift; shift += 5; } while (b &gt;= 0x20 &amp;&amp; index &lt; len);&#10;            int dlat = ((result &amp; 1)!=0 ? ~(result&gt;&gt;1) : (result&gt;&gt;1)); lat += dlat;&#10;            shift=0; result=0;&#10;            do { if (index&gt;=len) break; b = encoded.charAt(index++) - 63; result |= (b &amp; 0x1f) &lt;&lt; shift; shift += 5; } while (b &gt;= 0x20 &amp;&amp; index &lt; len);&#10;            int dlng = ((result &amp; 1)!=0 ? ~(result&gt;&gt;1) : (result&gt;&gt;1)); lng += dlng;&#10;            double latD = lat/1E5; double lonD = lng/1E5; poly.add(new LatLng(latD, lonD));&#10;        }&#10;        return poly;&#10;    }&#10;&#10;    // === Método ETA restaurado ===&#10;    private void recalcEta(double olat, double olon) {&#10;        if (destinoLat == null || destinoLon == null) return;&#10;        double km;&#10;        try { km = TrackingService.haversine(olat, olon, destinoLat, destinoLon); } catch (Exception e) { km = 5; }&#10;        if (km &lt; 0) km = 0;&#10;        lastDistanceKm = km;&#10;        boolean isClose = km &lt;= CLOSE_DISTANCE_KM;&#10;        if (markerCourier != null) {&#10;            if (isClose &amp;&amp; !markerCloseApplied) {&#10;                markerCourier.setIcon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_GREEN));&#10;                markerCloseApplied = true;&#10;            } else if (!isClose &amp;&amp; markerCloseApplied) {&#10;                markerCourier.setIcon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_AZURE));&#10;                markerCloseApplied = false;&#10;            }&#10;        }&#10;        if (km &lt;= 0.05) { // llegada muy cercana&#10;            if (tvEta != null)&#10;                tvEta.setText(getString(R.string.eta_format_only, getString(R.string.minutes_sub_min)));&#10;            if (chipDistance != null) chipDistance.setText(&quot;&lt;50m&quot;);&#10;            return;&#10;        }&#10;        String etaIso = TrackingService.calcEtaIso(Math.max(0.3, km), 25);&#10;        lastEtaIso = etaIso;&#10;        String etaShort = shortTime(etaIso);&#10;        java.text.DecimalFormat df = new java.text.DecimalFormat(&quot;0.0&quot;);&#10;        if (tvEta != null)&#10;            tvEta.setText(getString(R.string.eta_with_distance_format, etaShort, df.format(km)));&#10;        if (chipDistance != null) {&#10;            if (km &gt;= 1) chipDistance.setText(String.format(Locale.getDefault(), &quot;%.1f km&quot;, km));&#10;            else chipDistance.setText(String.format(Locale.getDefault(), &quot;%d m&quot;, (int) Math.round(km * 1000)));&#10;        }&#10;    }&#10;&#10;    private String shortTime(String iso) {&#10;        if (iso == null) return &quot;—&quot;;&#10;        try {&#10;            SimpleDateFormat in = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;, Locale.getDefault());&#10;            Date d = in.parse(iso);&#10;            if (d == null) return iso;&#10;            return android.text.format.DateFormat.getTimeFormat(requireContext()).format(d);&#10;        } catch (Exception e) {&#10;            return iso;&#10;        }&#10;    }&#10;&#10;    // Helpers UI restaurados&#10;    private void runOnUi(Runnable r){ if(!isAdded()) return; requireActivity().runOnUiThread(r); }&#10;    private void toast(String s){ if(!isAdded()) return; Toast.makeText(requireContext(), s, Toast.LENGTH_SHORT).show(); }&#10;&#10;    @Override public void onPause(){ super.onPause(); stopLocationUpdates(); }&#10;    @Override public void onDestroyView(){ stopLocationUpdates(); gmap=null; super.onDestroyView(); }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/ui/LoginFragment.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/hfad/encomiendas/ui/LoginFragment.java" />
              <option name="originalContent" value="package com.hfad.encomiendas.ui;&#10;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.navigation.NavOptions;&#10;import androidx.navigation.fragment.NavHostFragment;&#10;&#10;import com.google.android.material.button.MaterialButton;&#10;import com.google.android.material.textfield.TextInputEditText;&#10;import com.google.android.material.textfield.TextInputLayout;&#10;import com.hfad.encomiendas.R;&#10;import com.hfad.encomiendas.core.PasswordUtils;&#10;import com.hfad.encomiendas.core.SessionManager;&#10;import com.hfad.encomiendas.data.AppDatabase;&#10;import com.hfad.encomiendas.data.User;&#10;&#10;import java.util.concurrent.Executors;&#10;&#10;public class LoginFragment extends Fragment {&#10;&#10;    private TextInputLayout tilEmail, tilPass;&#10;    private TextInputEditText etEmail, etPass;&#10;    private MaterialButton btnLogin, btnIrARegistro;&#10;&#10;    public LoginFragment() {}&#10;&#10;    @Nullable @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_login, container, false);&#10;    }&#10;&#10;    @Override&#10;    public void onViewCreated(@NonNull View v, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(v, savedInstanceState);&#10;&#10;        tilEmail     = v.findViewById(R.id.tilEmail);&#10;        tilPass      = v.findViewById(R.id.tilPassword);&#10;        etEmail      = v.findViewById(R.id.etEmail);&#10;        etPass       = v.findViewById(R.id.etPassword);&#10;        btnLogin     = v.findViewById(R.id.btnLogin);&#10;        // &lt;&lt;&lt; OJO: el id real del XML es btnIrARegistro&#10;        btnIrARegistro = v.findViewById(R.id.btnIrARegistro);&#10;&#10;        if (btnLogin != null) {&#10;            btnLogin.setOnClickListener(view -&gt; doLogin());&#10;        }&#10;        if (btnIrARegistro != null) {&#10;            btnIrARegistro.setOnClickListener(view -&gt;&#10;                    NavHostFragment.findNavController(this)&#10;                            .navigate(R.id.action_login_to_registro));&#10;        }&#10;    }&#10;&#10;    private void doLogin() {&#10;        String email = etEmail != null &amp;&amp; etEmail.getText()!=null ? etEmail.getText().toString().trim() : &quot;&quot;;&#10;        String pass  = etPass  != null &amp;&amp; etPass.getText()!=null  ? etPass.getText().toString().trim() : &quot;&quot;;&#10;&#10;        if (TextUtils.isEmpty(email)) { if (tilEmail!=null) tilEmail.setError(&quot;Requerido&quot;); return; }&#10;        if (TextUtils.isEmpty(pass))  { if (tilPass !=null)  tilPass.setError(&quot;Requerido&quot;); return; }&#10;        if (tilEmail!=null) tilEmail.setError(null);&#10;        if (tilPass !=null)  tilPass.setError(null);&#10;&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                User u = db.userDao().findByEmail(email);&#10;                String hash = PasswordUtils.sha256(pass);&#10;&#10;                if (u == null || u.passwordHash == null || !u.passwordHash.equals(hash)) {&#10;                    runOnUi(() -&gt; { if (tilPass!=null) tilPass.setError(&quot;Credenciales inválidas&quot;); });&#10;                    return;&#10;                }&#10;&#10;                // Guardar sesión con ROL&#10;                String role = (u.rol == null ? &quot;&quot; : u.rol.trim());&#10;                new SessionManager(requireContext()).login(email, role);&#10;&#10;                // Navegar por rol&#10;                int dest = R.id.homeDashboardFragment; // default REMITENTE&#10;                switch (role.toUpperCase()) {&#10;                    case &quot;OPERADOR&quot;:&#10;                    case &quot;OPERADOR_HUB&quot;:&#10;                        dest = R.id.hubDashboardFragment; break;&#10;                    case &quot;REPARTIDOR&quot;:&#10;                        dest = R.id.repartidorDashboardFragment; break;&#10;                    case &quot;ASIGNADOR&quot;:&#10;                        dest = R.id.asignadorFragment; break;&#10;                    case &quot;RECOLECTOR&quot;:&#10;                        dest = R.id.misAsignacionesFragment; break;&#10;                }&#10;                int finalDest = dest;&#10;                runOnUi(() -&gt; {&#10;                    NavOptions opts = new NavOptions.Builder()&#10;                            .setPopUpTo(R.id.loginFragment, true)&#10;                            .build();&#10;                    NavHostFragment.findNavController(this).navigate(finalDest, null, opts);&#10;                });&#10;&#10;            } catch (Exception e) {&#10;                runOnUi(() -&gt; { if (tilPass!=null) tilPass.setError(&quot;Error: &quot; + e.getMessage()); });&#10;            }&#10;        });&#10;    }&#10;&#10;    private void runOnUi(Runnable r) { if (!isAdded()) return; requireActivity().runOnUiThread(r); }&#10;}" />
              <option name="updatedContent" value="package com.hfad.encomiendas.ui;&#10;&#10;import android.os.Bundle;&#10;import android.text.TextUtils;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;&#10;import androidx.annotation.NonNull;&#10;import androidx.annotation.Nullable;&#10;import androidx.fragment.app.Fragment;&#10;import androidx.navigation.NavOptions;&#10;import androidx.navigation.fragment.NavHostFragment;&#10;&#10;import com.google.android.material.button.MaterialButton;&#10;import com.google.android.material.textfield.TextInputEditText;&#10;import com.google.android.material.textfield.TextInputLayout;&#10;import com.hfad.encomiendas.R;&#10;import com.hfad.encomiendas.core.PasswordUtils;&#10;import com.hfad.encomiendas.core.SessionManager;&#10;import com.hfad.encomiendas.data.AppDatabase;&#10;import com.hfad.encomiendas.data.User;&#10;&#10;import java.util.concurrent.Executors;&#10;&#10;public class LoginFragment extends Fragment {&#10;&#10;    private TextInputLayout tilEmail, tilPass;&#10;    private TextInputEditText etEmail, etPass;&#10;    private MaterialButton btnLogin, btnIrARegistro;&#10;&#10;    public LoginFragment() {}&#10;&#10;    @Nullable @Override&#10;    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {&#10;        return inflater.inflate(R.layout.fragment_login, container, false);&#10;    }&#10;&#10;    @Override&#10;    public void onViewCreated(@NonNull View v, @Nullable Bundle savedInstanceState) {&#10;        super.onViewCreated(v, savedInstanceState);&#10;&#10;        tilEmail     = v.findViewById(R.id.tilEmail);&#10;        tilPass      = v.findViewById(R.id.tilPassword);&#10;        etEmail      = v.findViewById(R.id.etEmail);&#10;        etPass       = v.findViewById(R.id.etPassword);&#10;        btnLogin     = v.findViewById(R.id.btnLogin);&#10;        // &lt;&lt;&lt; OJO: el id real del XML es btnIrARegistro&#10;        btnIrARegistro = v.findViewById(R.id.btnIrARegistro);&#10;&#10;        if (btnLogin != null) {&#10;            btnLogin.setOnClickListener(view -&gt; doLogin());&#10;        }&#10;        if (btnIrARegistro != null) {&#10;            btnIrARegistro.setOnClickListener(view -&gt;&#10;                    NavHostFragment.findNavController(this)&#10;                            .navigate(R.id.action_login_to_registro));&#10;        }&#10;    }&#10;&#10;    private void doLogin() {&#10;        String email = etEmail != null &amp;&amp; etEmail.getText()!=null ? etEmail.getText().toString().trim() : &quot;&quot;;&#10;        String pass  = etPass  != null &amp;&amp; etPass.getText()!=null  ? etPass.getText().toString().trim() : &quot;&quot;;&#10;&#10;        if (TextUtils.isEmpty(email)) { if (tilEmail!=null) tilEmail.setError(&quot;Requerido&quot;); return; }&#10;        if (TextUtils.isEmpty(pass))  { if (tilPass !=null)  tilPass.setError(&quot;Requerido&quot;); return; }&#10;        if (tilEmail!=null) tilEmail.setError(null);&#10;        if (tilPass !=null)  tilPass.setError(null);&#10;&#10;        Executors.newSingleThreadExecutor().execute(() -&gt; {&#10;            try {&#10;                AppDatabase db = AppDatabase.getInstance(requireContext());&#10;                User u = db.userDao().findByEmail(email);&#10;                String hash = PasswordUtils.sha256(pass);&#10;&#10;                if (u == null || u.passwordHash == null || !u.passwordHash.equals(hash)) {&#10;                    runOnUi(() -&gt; { if (tilPass!=null) tilPass.setError(&quot;Credenciales inválidas&quot;); });&#10;                    return;&#10;                }&#10;&#10;                // Guardar sesión con ROL&#10;                String role = (u.rol == null ? &quot;&quot; : u.rol.trim());&#10;                new SessionManager(requireContext()).login(email, role);&#10;&#10;                // Navegar por rol&#10;                int dest = R.id.homeDashboardFragment; // default REMITENTE&#10;                switch (role.toUpperCase()) {&#10;                    case &quot;ADMIN&quot;:&#10;                        dest = R.id.adminFragment; break;&#10;                    case &quot;OPERADOR&quot;:&#10;                    case &quot;OPERADOR_HUB&quot;:&#10;                        dest = R.id.hubDashboardFragment; break;&#10;                    case &quot;REPARTIDOR&quot;:&#10;                        dest = R.id.repartidorDashboardFragment; break;&#10;                    case &quot;ASIGNADOR&quot;:&#10;                        dest = R.id.asignadorFragment; break;&#10;                    case &quot;RECOLECTOR&quot;:&#10;                        dest = R.id.misAsignacionesFragment; break;&#10;                }&#10;                int finalDest = dest;&#10;                runOnUi(() -&gt; {&#10;                    NavOptions opts = new NavOptions.Builder()&#10;                            .setPopUpTo(R.id.loginFragment, true)&#10;                            .build();&#10;                    NavHostFragment.findNavController(this).navigate(finalDest, null, opts);&#10;                });&#10;&#10;            } catch (Exception e) {&#10;                runOnUi(() -&gt; { if (tilPass!=null) tilPass.setError(&quot;Error: &quot; + e.getMessage()); });&#10;            }&#10;        });&#10;    }&#10;&#10;    private void runOnUi(Runnable r) { if (!isAdded()) return; requireActivity().runOnUiThread(r); }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/anim/slide_in_left.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/anim/slide_in_left.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:interpolator=&quot;@android:interpolator/fast_out_slow_in&quot;&gt;&#10;    &lt;translate&#10;        android:fromXDelta=&quot;-100%&quot;&#10;        android:toXDelta=&quot;0%&quot;&#10;        android:duration=&quot;250&quot; /&gt;&#10;    &lt;alpha android:fromAlpha=&quot;0&quot; android:toAlpha=&quot;1&quot; android:duration=&quot;250&quot;/&gt;&#10;&lt;/set&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/anim/slide_out_left.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/anim/slide_out_left.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:interpolator=&quot;@android:interpolator/fast_out_linear_in&quot;&gt;&#10;    &lt;translate&#10;        android:fromXDelta=&quot;0%&quot;&#10;        android:toXDelta=&quot;-100%&quot;&#10;        android:duration=&quot;250&quot; /&gt;&#10;    &lt;alpha android:fromAlpha=&quot;1&quot; android:toAlpha=&quot;0&quot; android:duration=&quot;250&quot;/&gt;&#10;&lt;/set&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/anim/slide_out_right.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/anim/slide_out_right.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:interpolator=&quot;@android:interpolator/fast_out_linear_in&quot;&gt;&#10;    &lt;translate&#10;        android:fromXDelta=&quot;0%&quot;&#10;        android:toXDelta=&quot;100%&quot;&#10;        android:duration=&quot;250&quot; /&gt;&#10;    &lt;alpha android:fromAlpha=&quot;1&quot; android:toAlpha=&quot;0&quot; android:duration=&quot;250&quot;/&gt;&#10;&lt;/set&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_admin.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_admin.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FFFFFF&quot;&#10;        android:pathData=&quot;M12,1L3,5v6c0,5.55 3.84,10.74 9,12 5.16,-1.26 9,-6.45 9,-12L21,5l-9,-4zM12,11.99h7c-0.53,4.12 -3.28,7.79 -7,8.94L12,12L5,12L5,6.3l7,-3.11v8.8z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_arrow_forward.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_arrow_forward.xml" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#13;&#10;    android:width=&quot;24dp&quot;&#13;&#10;    android:height=&quot;24dp&quot;&#13;&#10;    android:viewportWidth=&quot;24&quot;&#13;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#13;&#10;    &lt;path&#13;&#10;        android:fillColor=&quot;#000000&quot;&#13;&#10;        android:pathData=&quot;M12,4l-1.41,1.41L16.17,11H4v2h12.17l-5.58,5.59L12,20l8,-8z&quot;/&gt;&#13;&#10;&lt;/vector&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_people.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_people.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#000000&quot;&#10;        android:pathData=&quot;M16,11c1.66,0 2.99,-1.34 2.99,-3S17.66,5 16,5c-1.66,0 -3,1.34 -3,3s1.34,3 3,3zM8,11c1.66,0 2.99,-1.34 2.99,-3S9.66,5 8,5C6.34,5 5,6.34 5,8s1.34,3 3,3zM8,13c-2.33,0 -7,1.17 -7,3.5L1,19h14v-2.5c0,-2.33 -4.67,-3.5 -7,-3.5zM16,13c-0.29,0 -0.62,0.02 -0.97,0.05 1.16,0.84 1.97,1.97 1.97,3.45L17,19h6v-2.5c0,-2.33 -4.67,-3.5 -7,-3.5z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_settings.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_settings.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FFFFFF&quot;&#10;        android:pathData=&quot;M19.14,12.94c0.04,-0.3 0.06,-0.61 0.06,-0.94c0,-0.32 -0.02,-0.64 -0.07,-0.94l2.03,-1.58c0.18,-0.14 0.23,-0.41 0.12,-0.61l-1.92,-3.32c-0.12,-0.22 -0.37,-0.29 -0.59,-0.22l-2.39,0.96c-0.5,-0.38 -1.03,-0.7 -1.62,-0.94L14.4,2.81c-0.04,-0.24 -0.24,-0.41 -0.48,-0.41h-3.84c-0.24,0 -0.43,0.17 -0.47,0.41L9.25,5.35C8.66,5.59 8.12,5.92 7.63,6.29L5.24,5.33c-0.22,-0.08 -0.47,0 -0.59,0.22L2.74,8.87C2.62,9.08 2.66,9.34 2.86,9.48l2.03,1.58C4.84,11.36 4.8,11.69 4.8,12s0.02,0.64 0.07,0.94l-2.03,1.58c-0.18,0.14 -0.23,0.41 -0.12,0.61l1.92,3.32c0.12,0.22 0.37,0.29 0.59,0.22l2.39,-0.96c0.5,0.38 1.03,0.7 1.62,0.94l0.36,2.54c0.05,0.24 0.24,0.41 0.48,0.41h3.84c0.24,0 0.44,-0.17 0.47,-0.41l0.36,-2.54c0.59,-0.24 1.13,-0.56 1.62,-0.94l2.39,0.96c0.22,0.08 0.47,0 0.59,-0.22l1.92,-3.32c0.12,-0.22 0.07,-0.47 -0.12,-0.61L19.14,12.94zM12,15.6c-1.98,0 -3.6,-1.62 -3.6,-3.6s1.62,-3.6 3.6,-3.6s3.6,1.62 3.6,3.6S13.98,15.6 12,15.6z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_stats.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_stats.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#000000&quot;&#10;        android:pathData=&quot;M19,3L5,3c-1.1,0 -2,0.9 -2,2v14c0,1.1 0.9,2 2,2h14c1.1,0 2,-0.9 2,-2L21,5c0,-1.1 -0.9,-2 -2,-2zM9,17L7,17v-7h2v7zM13,17h-2L11,7h2v10zM17,17h-2v-4h2v4z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_admin.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_admin.xml" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:background=&quot;@color/colorBackground&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;vertical&quot;&#10;        android:padding=&quot;16dp&quot;&gt;&#10;&#10;        &lt;!-- ENCABEZADO DEL ADMIN --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            app:cardBackgroundColor=&quot;?attr/colorPrimary&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;20dp&quot;&#10;                android:gravity=&quot;center&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;️ Panel de Administrador&quot;&#10;                    android:textSize=&quot;24sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;@android:color/white&quot;&#10;                    android:layout_marginBottom=&quot;8dp&quot;/&gt;&#10;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvAdminEmail&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;admin@encomiendas.com&quot;&#10;                    android:textSize=&quot;14sp&quot;&#10;                    android:textColor=&quot;@android:color/white&quot;&#10;                    android:alpha=&quot;0.9&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- RESUMEN NUMÉRICO --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot; Resumen General&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;?attr/colorPrimary&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot;/&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:weightSum=&quot;3&quot;&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:gravity=&quot;center&quot;&#10;                        android:padding=&quot;8dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:id=&quot;@+id/tvTotalSolicitudes&quot;&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;0&quot;&#10;                            android:textSize=&quot;28sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;?attr/colorPrimary&quot;/&gt;&#10;&#10;                        &lt;TextView&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Total\nSolicitudes&quot;&#10;                            android:textSize=&quot;12sp&quot;&#10;                            android:gravity=&quot;center&quot;&#10;                            android:layout_marginTop=&quot;4dp&quot;/&gt;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:gravity=&quot;center&quot;&#10;                        android:padding=&quot;8dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:id=&quot;@+id/tvTotalUsuarios&quot;&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;0&quot;&#10;                            android:textSize=&quot;28sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;#673AB7&quot;/&gt;&#10;&#10;                        &lt;TextView&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Total\nUsuarios&quot;&#10;                            android:textSize=&quot;12sp&quot;&#10;                            android:gravity=&quot;center&quot;&#10;                            android:layout_marginTop=&quot;4dp&quot;/&gt;&#10;                    &lt;/LinearLayout&gt;&#10;&#10;                    &lt;LinearLayout&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:orientation=&quot;vertical&quot;&#10;                        android:gravity=&quot;center&quot;&#10;                        android:padding=&quot;8dp&quot;&gt;&#10;&#10;                        &lt;TextView&#10;                            android:id=&quot;@+id/tvRecolectoresActivos&quot;&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;0&quot;&#10;                            android:textSize=&quot;28sp&quot;&#10;                            android:textStyle=&quot;bold&quot;&#10;                            android:textColor=&quot;#4CAF50&quot;/&gt;&#10;&#10;                        &lt;TextView&#10;                            android:layout_width=&quot;wrap_content&quot;&#10;                            android:layout_height=&quot;wrap_content&quot;&#10;                            android:text=&quot;Recolectores\nActivos&quot;&#10;                            android:textSize=&quot;12sp&quot;&#10;                            android:gravity=&quot;center&quot;&#10;                            android:layout_marginTop=&quot;4dp&quot;/&gt;&#10;                    &lt;/LinearLayout&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- ACCESOS RÁPIDOS --&gt;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot;Accesos Rápidos&quot;&#10;            android:textSize=&quot;18sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:textColor=&quot;?attr/colorPrimary&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;/&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:orientation=&quot;horizontal&quot;&#10;            android:weightSum=&quot;2&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&gt;&#10;&#10;            &lt;com.google.android.material.card.MaterialCardView&#10;                android:id=&quot;@+id/cardEstadisticas&quot;&#10;                android:layout_width=&quot;0dp&quot;&#10;                android:layout_height=&quot;120dp&quot;&#10;                android:layout_weight=&quot;1&quot;&#10;                android:layout_margin=&quot;8dp&quot;&#10;                app:cardElevation=&quot;4dp&quot;&#10;                app:cardCornerRadius=&quot;12dp&quot;&#10;                android:clickable=&quot;true&quot;&#10;                android:focusable=&quot;true&quot;&#10;                android:foreground=&quot;?attr/selectableItemBackground&quot;&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;match_parent&quot;&#10;                    android:orientation=&quot;vertical&quot;&#10;                    android:gravity=&quot;center&quot;&#10;                    android:padding=&quot;16dp&quot;&gt;&#10;&#10;                    &lt;TextView&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;&quot;&#10;                        android:textSize=&quot;36sp&quot;&#10;                        android:layout_marginBottom=&quot;8dp&quot;/&gt;&#10;&#10;                    &lt;TextView&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Estadísticas\nDetalladas&quot;&#10;                        android:textSize=&quot;14sp&quot;&#10;                        android:textStyle=&quot;bold&quot;&#10;                        android:textColor=&quot;?attr/colorPrimary&quot;&#10;                        android:gravity=&quot;center&quot;/&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;            &lt;com.google.android.material.card.MaterialCardView&#10;                android:id=&quot;@+id/cardGestionUsuarios&quot;&#10;                android:layout_width=&quot;0dp&quot;&#10;                android:layout_height=&quot;120dp&quot;&#10;                android:layout_weight=&quot;1&quot;&#10;                android:layout_margin=&quot;8dp&quot;&#10;                app:cardElevation=&quot;4dp&quot;&#10;                app:cardCornerRadius=&quot;12dp&quot;&#10;                android:clickable=&quot;true&quot;&#10;                android:focusable=&quot;true&quot;&#10;                android:foreground=&quot;?attr/selectableItemBackground&quot;&gt;&#10;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;match_parent&quot;&#10;                    android:orientation=&quot;vertical&quot;&#10;                    android:gravity=&quot;center&quot;&#10;                    android:padding=&quot;16dp&quot;&gt;&#10;&#10;                    &lt;TextView&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;&quot;&#10;                        android:textSize=&quot;36sp&quot;&#10;                        android:layout_marginBottom=&quot;8dp&quot;/&gt;&#10;&#10;                    &lt;TextView&#10;                        android:layout_width=&quot;wrap_content&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:text=&quot;Gestión de\nUsuarios&quot;&#10;                        android:textSize=&quot;14sp&quot;&#10;                        android:textStyle=&quot;bold&quot;&#10;                        android:textColor=&quot;?attr/colorPrimary&quot;&#10;                        android:gravity=&quot;center&quot;/&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;        &lt;/LinearLayout&gt;&#10;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:id=&quot;@+id/cardConfiguracion&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;100dp&quot;&#10;            android:layout_marginBottom=&quot;24dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&#10;            android:clickable=&quot;true&quot;&#10;            android:focusable=&quot;true&quot;&#10;            android:foreground=&quot;?attr/selectableItemBackground&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;match_parent&quot;&#10;                android:orientation=&quot;horizontal&quot;&#10;                android:gravity=&quot;center_vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;⚙️&quot;&#10;                    android:textSize=&quot;36sp&quot;&#10;                    android:layout_marginEnd=&quot;16dp&quot;/&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Configuración del Sistema&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;?attr/colorPrimary&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- GRÁFICAS DE ESTADÍSTICAS --&gt;&#10;        &lt;TextView&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:text=&quot; Estadísticas Visuales&quot;&#10;            android:textSize=&quot;18sp&quot;&#10;            android:textStyle=&quot;bold&quot;&#10;            android:textColor=&quot;?attr/colorPrimary&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;/&gt;&#10;&#10;        &lt;!-- GRÁFICA DE BARRAS: SOLICITUDES POR ESTADO --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Solicitudes por Estado&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;?attr/colorPrimary&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot;/&gt;&#10;&#10;                &lt;com.github.mikephil.charting.charts.BarChart&#10;                    android:id=&quot;@+id/chartSolicitudesPorEstado&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;220dp&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- GRÁFICA DE PASTEL: USUARIOS POR ROL --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Usuarios por Rol&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;?attr/colorPrimary&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot;/&gt;&#10;&#10;                &lt;com.github.mikephil.charting.charts.PieChart&#10;                    android:id=&quot;@+id/chartUsuariosPorRol&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;280dp&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;!-- GRÁFICA DE LÍNEAS: SOLICITUDES ÚLTIMOS 7 DÍAS --&gt;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginBottom=&quot;16dp&quot;&#10;            app:cardElevation=&quot;4dp&quot;&#10;            app:cardCornerRadius=&quot;12dp&quot;&gt;&#10;&#10;            &lt;LinearLayout&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&gt;&#10;&#10;                &lt;TextView&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:text=&quot;Solicitudes Últimos 7 Días&quot;&#10;                    android:textSize=&quot;16sp&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:textColor=&quot;?attr/colorPrimary&quot;&#10;                    android:layout_marginBottom=&quot;12dp&quot;/&gt;&#10;&#10;                &lt;com.github.mikephil.charting.charts.LineChart&#10;                    android:id=&quot;@+id/chartSolicitudesUltimos7Dias&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;220dp&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/ScrollView&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_detalle_entrega.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_detalle_entrega.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:fillViewport=&quot;true&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:orientation=&quot;vertical&quot;&#10;        android:padding=&quot;16dp&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&gt;&#10;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:strokeWidth=&quot;1dp&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;            &lt;LinearLayout&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&gt;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvTitulo&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:text=&quot;Entrega&quot;&#10;                    android:textAppearance=&quot;@style/TextAppearance.Material3.TitleMedium&quot;/&gt;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvEstado&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginTop=&quot;4dp&quot;&#10;                    android:text=&quot;—&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:strokeWidth=&quot;1dp&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;            &lt;LinearLayout&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&gt;&#10;                &lt;FrameLayout&#10;                    android:id=&quot;@+id/map_container_entrega&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;220dp&quot;/&gt;&#10;                &lt;com.google.android.material.chip.Chip&#10;                    android:id=&quot;@+id/chipDistance&quot;&#10;                    style=&quot;@style/Widget.Material3.Chip.Assist&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginTop=&quot;8dp&quot;&#10;                    android:text=&quot;—&quot;/&gt;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvEta&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:padding=&quot;8dp&quot;&#10;                    android:text=&quot;ETA: —&quot;/&gt;&#10;                &lt;androidx.recyclerview.widget.RecyclerView&#10;                    android:id=&quot;@+id/rvTimeline&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:nestedScrollingEnabled=&quot;false&quot;/&gt;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:layout_marginTop=&quot;12dp&quot;&gt;&#10;                    &lt;com.google.android.material.button.MaterialButton&#10;                        android:id=&quot;@+id/btnIniciarRuta&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Iniciar ruta&quot;/&gt;&#10;                    &lt;Space android:layout_width=&quot;12dp&quot; android:layout_height=&quot;1dp&quot;/&gt;&#10;                    &lt;com.google.android.material.button.MaterialButton&#10;                        android:id=&quot;@+id/btnMarcarEntregado&quot;&#10;                        style=&quot;@style/Widget.Material3.Button.FilledTonalButton&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Entregado&quot;/&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/androidx.core.widget.NestedScrollView&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&#10;    android:fillViewport=&quot;true&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:orientation=&quot;vertical&quot;&#10;        android:padding=&quot;16dp&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&gt;&#10;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:strokeWidth=&quot;1dp&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;            &lt;LinearLayout&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&gt;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvTitulo&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:textStyle=&quot;bold&quot;&#10;                    android:text=&quot;Entrega&quot;&#10;                    android:textAppearance=&quot;@style/TextAppearance.Material3.TitleMedium&quot;/&gt;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvEstado&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginTop=&quot;4dp&quot;&#10;                    android:text=&quot;—&quot;/&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;        &lt;com.google.android.material.card.MaterialCardView&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            app:cardCornerRadius=&quot;16dp&quot;&#10;            app:strokeWidth=&quot;1dp&quot;&#10;            android:layout_marginBottom=&quot;12dp&quot;&gt;&#10;            &lt;LinearLayout&#10;                android:orientation=&quot;vertical&quot;&#10;                android:padding=&quot;16dp&quot;&#10;                android:layout_width=&quot;match_parent&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&gt;&#10;                &lt;FrameLayout&#10;                    android:id=&quot;@+id/map_container_entrega&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;220dp&quot;/&gt;&#10;                &lt;com.google.android.material.chip.Chip&#10;                    android:id=&quot;@+id/chipDistance&quot;&#10;                    style=&quot;@style/Widget.Material3.Chip.Assist&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:layout_marginTop=&quot;8dp&quot;&#10;                    android:text=&quot;—&quot;/&gt;&#10;                &lt;TextView&#10;                    android:id=&quot;@+id/tvEta&quot;&#10;                    android:layout_width=&quot;wrap_content&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:padding=&quot;8dp&quot;&#10;                    android:text=&quot;ETA: —&quot;/&gt;&#10;                &lt;androidx.recyclerview.widget.RecyclerView&#10;                    android:id=&quot;@+id/rvTimeline&quot;&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:nestedScrollingEnabled=&quot;false&quot;/&gt;&#10;                &lt;LinearLayout&#10;                    android:layout_width=&quot;match_parent&quot;&#10;                    android:layout_height=&quot;wrap_content&quot;&#10;                    android:orientation=&quot;horizontal&quot;&#10;                    android:layout_marginTop=&quot;12dp&quot;&gt;&#10;                    &lt;com.google.android.material.button.MaterialButton&#10;                        android:id=&quot;@+id/btnIniciarRuta&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Iniciar ruta&quot;/&gt;&#10;                    &lt;Space android:layout_width=&quot;12dp&quot; android:layout_height=&quot;1dp&quot;/&gt;&#10;                    &lt;com.google.android.material.button.MaterialButton&#10;                        android:id=&quot;@+id/btnMarcarEntregado&quot;&#10;                        android:layout_width=&quot;0dp&quot;&#10;                        android:layout_height=&quot;wrap_content&quot;&#10;                        android:layout_weight=&quot;1&quot;&#10;                        android:text=&quot;Entregado&quot;/&gt;&#10;                &lt;/LinearLayout&gt;&#10;            &lt;/LinearLayout&gt;&#10;        &lt;/com.google.android.material.card.MaterialCardView&gt;&#10;    &lt;/LinearLayout&gt;&#10;&lt;/androidx.core.widget.NestedScrollView&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/fragment_recoleccion_mapa.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/fragment_recoleccion_mapa.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;!-- MAPA A PANTALLA COMPLETA --&gt;&#10;    &lt;com.google.android.gms.maps.MapView&#10;        android:id=&quot;@+id/mapFullReco&quot;&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;match_parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;!-- BOTÓN VOLVER (ARRIBA IZQUIERDA) --&gt;&#10;    &lt;ImageButton&#10;        android:id=&quot;@+id/btnBackReco&quot;&#10;        android:layout_width=&quot;48dp&quot;&#10;        android:layout_height=&quot;48dp&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:background=&quot;@drawable/bg_card_soft&quot;&#10;        android:contentDescription=&quot;Volver&quot;&#10;        android:elevation=&quot;4dp&quot;&#10;        android:src=&quot;@drawable/ic_arrow_forward&quot;&#10;        android:rotation=&quot;180&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;!-- ESTADO DE LA RECOLECCIÓN (ARRIBA CENTRO) --&gt;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvStatusReco&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:background=&quot;@drawable/bg_card_soft&quot;&#10;        android:elevation=&quot;4dp&quot;&#10;        android:padding=&quot;12dp&quot;&#10;        android:text=&quot;Cargando...&quot;&#10;        android:textSize=&quot;14sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        android:textColor=&quot;?attr/colorPrimary&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;!-- BOTÓN CENTRAR CÁMARA (ABAJO DERECHA) --&gt;&#10;    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton&#10;        android:id=&quot;@+id/fabCenterReco&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_margin=&quot;16dp&quot;&#10;        android:contentDescription=&quot;Centrar mapa&quot;&#10;        android:src=&quot;@android:drawable/ic_menu_mylocation&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;&#10;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/menu/menu_admin.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/menu/menu_admin.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;&#10;&#10;    &lt;!-- Menú específico para ADMIN --&gt;&#10;&#10;    &lt;!-- Estadísticas --&gt;&#10;    &lt;item&#10;        android:id=&quot;@+id/action_statistics&quot;&#10;        android:title=&quot;Estadísticas&quot;&#10;        app:showAsAction=&quot;never&quot; /&gt;&#10;&#10;    &lt;!-- Gestión de Usuarios --&gt;&#10;    &lt;item&#10;        android:id=&quot;@+id/action_manage_users&quot;&#10;        android:title=&quot;Gestionar Usuarios&quot;&#10;        app:showAsAction=&quot;never&quot; /&gt;&#10;&#10;    &lt;!-- Perfil --&gt;&#10;    &lt;item&#10;        android:id=&quot;@+id/action_profile&quot;&#10;        android:title=&quot;Mi Perfil&quot;&#10;        app:showAsAction=&quot;never&quot; /&gt;&#10;&#10;    &lt;!-- Ayuda --&gt;&#10;    &lt;item&#10;        android:id=&quot;@+id/action_help&quot;&#10;        android:title=&quot;Ayuda&quot;&#10;        app:showAsAction=&quot;never&quot; /&gt;&#10;&#10;    &lt;item android:title=&quot;──────────&quot; android:enabled=&quot;false&quot; /&gt;&#10;&#10;    &lt;!-- Cerrar sesión --&gt;&#10;    &lt;item&#10;        android:id=&quot;@+id/action_logout&quot;&#10;        android:title=&quot;Cerrar sesión&quot;&#10;        app:showAsAction=&quot;never&quot; /&gt;&#10;&lt;/menu&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/navigation/nav_graph.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/navigation/nav_graph.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:id=&quot;@+id/nav_graph&quot;&#10;    app:startDestination=&quot;@id/loginFragment&quot;&gt;&#10;&#10;    &lt;!-- LOGIN --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/loginFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.LoginFragment&quot;&#10;        android:label=&quot;Iniciar sesión&quot;&gt;&#10;        &lt;!-- Ir a registro --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_registro&quot;&#10;            app:destination=&quot;@id/registroRemitenteFragment&quot; /&gt;&#10;        &lt;!-- Entrar como REMITENTE --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_recoleccion&quot;&#10;            app:destination=&quot;@id/solicitarRecoleccionFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Entrar como ASIGNADOR --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_asignador&quot;&#10;            app:destination=&quot;@id/asignadorFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Entrar como RECOLECTOR --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_misAsignaciones&quot;&#10;            app:destination=&quot;@id/misAsignacionesFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Ir a HUB --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_hub&quot;&#10;            app:destination=&quot;@id/hubDashboardFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Ir a Home (Remitente) --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_home&quot;&#10;            app:destination=&quot;@id/homeDashboardFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- REGISTRO (Remitente) --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/registroRemitenteFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.RegistroRemitenteFragment&quot;&#10;        android:label=&quot;Registro&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_registro_to_login&quot;&#10;            app:destination=&quot;@id/loginFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- REMITENTE: Solicitar recolección --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/solicitarRecoleccionFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.SolicitarRecoleccionFragment&quot;&#10;        android:label=&quot;Solicitar recolección&quot; /&gt;&#10;&#10;    &lt;!-- ASIGNADOR: Panel por zonas --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/asignadorFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.AsignadorFragment&quot;&#10;        android:label=&quot;Asignador&quot; &gt;&#10;        &lt;!-- Ver detalle de una zona concreta --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_asignador_to_zonaDetalle&quot;&#10;            app:destination=&quot;@id/zonaDetalleFragment&quot; /&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_asignador_to_gestionZonas&quot;&#10;            app:destination=&quot;@id/gestionZonasFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Gestión de Zonas --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/gestionZonasFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.GestionZonasFragment&quot;&#10;        android:label=&quot;Zonas&quot; &gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_gestionZonas_to_zoneMapEditor&quot;&#10;            app:destination=&quot;@id/zoneMapEditorFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- Editor de polígono de zona --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/zoneMapEditorFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.ZoneMapEditorFragment&quot;&#10;        android:label=&quot;Editar Zona&quot;&gt;&#10;        &lt;argument android:name=&quot;zoneId&quot; app:argType=&quot;integer&quot; android:defaultValue=&quot;-1&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- Home Dashboard (remitente) con acciones a solicitar y mapa de solicitud --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/homeDashboardFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.HomeDashboardFragment&quot;&#10;        android:label=&quot;Inicio&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_home_to_solicitar&quot;&#10;            app:destination=&quot;@id/solicitarRecoleccionFragment&quot; /&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_home_to_solicitudMapa&quot;&#10;            app:destination=&quot;@id/solicitudMapaFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- Ver una solicitud individual en mapa --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/solicitudMapaFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.SolicitudMapaFragment&quot;&#10;        android:label=&quot;Solicitud en mapa&quot; /&gt;&#10;&#10;    &lt;!-- Ver ruta / punto de recolección --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/recoleccionMapaFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.RecoleccionMapaFragment&quot;&#10;        android:label=&quot;Recolección en mapa&quot; /&gt;&#10;&#10;    &lt;!-- Detalle recolección con acción al mapa --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/detalleRecoleccionFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.DetalleRecoleccionFragment&quot;&#10;        android:label=&quot;Detalle de recolección&quot;&gt;&#10;        &lt;argument android:name=&quot;asignacionId&quot; app:argType=&quot;integer&quot; /&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_detalle_to_recoleccionMapa&quot;&#10;            app:destination=&quot;@id/recoleccionMapaFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- ASIGNADOR: Detalle de zona (pendientes/asignadas) --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/zonaDetalleFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.ZonaDetalleFragment&quot;&#10;        android:label=&quot;Detalle de zona&quot;&gt;&#10;        &lt;argument&#10;            android:name=&quot;fecha&quot;&#10;            app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument&#10;            android:name=&quot;zona&quot;&#10;            app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument&#10;            android:name=&quot;zoneId&quot;&#10;            app:argType=&quot;integer&quot;&#10;            android:defaultValue=&quot;-1&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- RECOLECTOR: Lista de asignaciones propias --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/misAsignacionesFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.MisAsignacionesFragment&quot;&#10;        android:label=&quot;Mis asignaciones&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_misAsignaciones_to_detalle&quot;&#10;            app:destination=&quot;@id/detalleRecoleccionFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Dashboard HUB --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/hubDashboardFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.HubDashboardFragment&quot;&#10;        android:label=&quot;HUB&quot; /&gt;&#10;&#10;    &lt;!-- NUEVO: Dashboard REPARTIDOR --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/repartidorDashboardFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.RepartidorDashboardFragment&quot;&#10;        android:label=&quot;Repartidor&quot;&gt;&#10;        &lt;!-- Acción para navegar a las calificaciones --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_repartidor_to_calificaciones&quot;&#10;            app:destination=&quot;@id/misCalificacionesFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Mis Calificaciones --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/misCalificacionesFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.MisCalificacionesFragment&quot;&#10;        android:label=&quot;Mis Calificaciones&quot; /&gt;&#10;&#10;    &lt;!-- Fragment de Entrega (faltaba, añadido) --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/entregaFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.EntregaFragment&quot;&#10;        android:label=&quot;Entrega&quot;&gt;&#10;        &lt;argument&#10;            android:name=&quot;manifiestoItemId&quot;&#10;            app:argType=&quot;integer&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: vista previa ruta polígono --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/poligonoRutaPreviewFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.PoligonoRutaPreviewFragment&quot;&#10;        android:label=&quot;Ruta (polígono)&quot;&gt;&#10;        &lt;argument android:name=&quot;zoneId&quot; app:argType=&quot;integer&quot; android:defaultValue=&quot;-1&quot; /&gt;&#10;        &lt;argument android:name=&quot;fecha&quot; app:argType=&quot;string&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Mapa fullscreen de zona --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/zonaMapaFullFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.ZonaMapaFullFragment&quot;&#10;        android:label=&quot;Mapa de zona&quot;&gt;&#10;        &lt;argument android:name=&quot;fecha&quot; app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument android:name=&quot;zona&quot; app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument android:name=&quot;zoneId&quot; app:argType=&quot;integer&quot; android:defaultValue=&quot;-1&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- ADMIN: Dashboard de Estadísticas --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/estadisticasFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.EstadisticasFragment&quot;&#10;        android:label=&quot;Estadísticas&quot; /&gt;&#10;&#10;&lt;/navigation&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:id=&quot;@+id/nav_graph&quot;&#10;    app:startDestination=&quot;@id/loginFragment&quot;&gt;&#10;&#10;    &lt;!-- LOGIN --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/loginFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.LoginFragment&quot;&#10;        android:label=&quot;Iniciar sesión&quot;&gt;&#10;        &lt;!-- Ir a registro --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_registro&quot;&#10;            app:destination=&quot;@id/registroRemitenteFragment&quot; /&gt;&#10;        &lt;!-- Entrar como REMITENTE --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_recoleccion&quot;&#10;            app:destination=&quot;@id/solicitarRecoleccionFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Entrar como ASIGNADOR --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_asignador&quot;&#10;            app:destination=&quot;@id/asignadorFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Entrar como RECOLECTOR --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_misAsignaciones&quot;&#10;            app:destination=&quot;@id/misAsignacionesFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Ir a HUB --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_hub&quot;&#10;            app:destination=&quot;@id/hubDashboardFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Ir a Home (Remitente) --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_home&quot;&#10;            app:destination=&quot;@id/homeDashboardFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;        &lt;!-- Ir a Admin --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_login_to_admin&quot;&#10;            app:destination=&quot;@id/adminFragment&quot;&#10;            app:popUpTo=&quot;@id/loginFragment&quot;&#10;            app:popUpToInclusive=&quot;true&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- REGISTRO (Remitente) --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/registroRemitenteFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.RegistroRemitenteFragment&quot;&#10;        android:label=&quot;Registro&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_registro_to_login&quot;&#10;            app:destination=&quot;@id/loginFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- REMITENTE: Solicitar recolección --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/solicitarRecoleccionFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.SolicitarRecoleccionFragment&quot;&#10;        android:label=&quot;Solicitar recolección&quot; /&gt;&#10;&#10;    &lt;!-- ASIGNADOR: Panel por zonas --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/asignadorFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.AsignadorFragment&quot;&#10;        android:label=&quot;Asignador&quot; &gt;&#10;        &lt;!-- Ver detalle de una zona concreta --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_asignador_to_zonaDetalle&quot;&#10;            app:destination=&quot;@id/zonaDetalleFragment&quot; /&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_asignador_to_gestionZonas&quot;&#10;            app:destination=&quot;@id/gestionZonasFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Gestión de Zonas --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/gestionZonasFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.GestionZonasFragment&quot;&#10;        android:label=&quot;Zonas&quot; &gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_gestionZonas_to_zoneMapEditor&quot;&#10;            app:destination=&quot;@id/zoneMapEditorFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- Editor de polígono de zona --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/zoneMapEditorFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.ZoneMapEditorFragment&quot;&#10;        android:label=&quot;Editar Zona&quot;&gt;&#10;        &lt;argument android:name=&quot;zoneId&quot; app:argType=&quot;integer&quot; android:defaultValue=&quot;-1&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- Home Dashboard (remitente) con acciones a solicitar y mapa de solicitud --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/homeDashboardFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.HomeDashboardFragment&quot;&#10;        android:label=&quot;Inicio&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_home_to_solicitar&quot;&#10;            app:destination=&quot;@id/solicitarRecoleccionFragment&quot; /&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_home_to_solicitudMapa&quot;&#10;            app:destination=&quot;@id/solicitudMapaFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- Ver una solicitud individual en mapa --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/solicitudMapaFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.SolicitudMapaFragment&quot;&#10;        android:label=&quot;Solicitud en mapa&quot; /&gt;&#10;&#10;    &lt;!-- Ver ruta / punto de recolección --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/recoleccionMapaFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.RecoleccionMapaFragment&quot;&#10;        android:label=&quot;Recolección en mapa&quot; /&gt;&#10;&#10;    &lt;!-- Detalle recolección con acción al mapa --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/detalleRecoleccionFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.DetalleRecoleccionFragment&quot;&#10;        android:label=&quot;Detalle de recolección&quot;&gt;&#10;        &lt;argument android:name=&quot;asignacionId&quot; app:argType=&quot;integer&quot; /&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_detalle_to_recoleccionMapa&quot;&#10;            app:destination=&quot;@id/recoleccionMapaFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- ASIGNADOR: Detalle de zona (pendientes/asignadas) --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/zonaDetalleFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.ZonaDetalleFragment&quot;&#10;        android:label=&quot;Detalle de zona&quot;&gt;&#10;        &lt;argument&#10;            android:name=&quot;fecha&quot;&#10;            app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument&#10;            android:name=&quot;zona&quot;&#10;            app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument&#10;            android:name=&quot;zoneId&quot;&#10;            app:argType=&quot;integer&quot;&#10;            android:defaultValue=&quot;-1&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- RECOLECTOR: Lista de asignaciones propias --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/misAsignacionesFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.MisAsignacionesFragment&quot;&#10;        android:label=&quot;Mis asignaciones&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_misAsignaciones_to_detalle&quot;&#10;            app:destination=&quot;@id/detalleRecoleccionFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Dashboard HUB --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/hubDashboardFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.HubDashboardFragment&quot;&#10;        android:label=&quot;HUB&quot; /&gt;&#10;&#10;    &lt;!-- NUEVO: Dashboard REPARTIDOR --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/repartidorDashboardFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.RepartidorDashboardFragment&quot;&#10;        android:label=&quot;Repartidor&quot;&gt;&#10;        &lt;!-- Acción para navegar a las calificaciones --&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_repartidor_to_calificaciones&quot;&#10;            app:destination=&quot;@id/misCalificacionesFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Mis Calificaciones --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/misCalificacionesFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.MisCalificacionesFragment&quot;&#10;        android:label=&quot;Mis Calificaciones&quot; /&gt;&#10;&#10;    &lt;!-- Fragment de Entrega (faltaba, añadido) --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/entregaFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.EntregaFragment&quot;&#10;        android:label=&quot;Entrega&quot;&gt;&#10;        &lt;argument&#10;            android:name=&quot;manifiestoItemId&quot;&#10;            app:argType=&quot;integer&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: vista previa ruta polígono --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/poligonoRutaPreviewFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.PoligonoRutaPreviewFragment&quot;&#10;        android:label=&quot;Ruta (polígono)&quot;&gt;&#10;        &lt;argument android:name=&quot;zoneId&quot; app:argType=&quot;integer&quot; android:defaultValue=&quot;-1&quot; /&gt;&#10;        &lt;argument android:name=&quot;fecha&quot; app:argType=&quot;string&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- NUEVO: Mapa fullscreen de zona --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/zonaMapaFullFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.ZonaMapaFullFragment&quot;&#10;        android:label=&quot;Mapa de zona&quot;&gt;&#10;        &lt;argument android:name=&quot;fecha&quot; app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument android:name=&quot;zona&quot; app:argType=&quot;string&quot; /&gt;&#10;        &lt;argument android:name=&quot;zoneId&quot; app:argType=&quot;integer&quot; android:defaultValue=&quot;-1&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- ADMIN: Panel de Administrador --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/adminFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.AdminFragment&quot;&#10;        android:label=&quot;Administrador&quot;&gt;&#10;        &lt;action&#10;            android:id=&quot;@+id/action_admin_to_estadisticas&quot;&#10;            app:destination=&quot;@id/estadisticasFragment&quot; /&gt;&#10;    &lt;/fragment&gt;&#10;&#10;    &lt;!-- ADMIN: Dashboard de Estadísticas --&gt;&#10;    &lt;fragment&#10;        android:id=&quot;@+id/estadisticasFragment&quot;&#10;        android:name=&quot;com.hfad.encomiendas.ui.EstadisticasFragment&quot;&#10;        android:label=&quot;Estadísticas&quot; /&gt;&#10;&#10;&lt;/navigation&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/raw/map_dark.json">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/raw/map_dark.json" />
              <option name="updatedContent" value="[&#10;  {&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#212121&quot; } ]&#10;  },&#10;  {&#10;    &quot;elementType&quot;: &quot;labels.icon&quot;,&#10;    &quot;stylers&quot;: [ { &quot;visibility&quot;: &quot;off&quot; } ]&#10;  },&#10;  {&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#757575&quot; } ]&#10;  },&#10;  {&#10;    &quot;elementType&quot;: &quot;labels.text.stroke&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#212121&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;administrative&quot;,&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#757575&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;poi&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#bdbdbd&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;poi.park&quot;,&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#181818&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;poi.park&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#616161&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;poi.park&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.stroke&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#1b1b1b&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;road&quot;,&#10;    &quot;elementType&quot;: &quot;geometry.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#2c2c2c&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;road&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#8a8a8a&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;road.arterial&quot;,&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#373737&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;road.highway&quot;,&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#3c3c3c&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;road.highway.controlled_access&quot;,&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#4e4e4e&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;road.local&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#616161&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;transit&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#757575&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;water&quot;,&#10;    &quot;elementType&quot;: &quot;geometry&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#000000&quot; } ]&#10;  },&#10;  {&#10;    &quot;featureType&quot;: &quot;water&quot;,&#10;    &quot;elementType&quot;: &quot;labels.text.fill&quot;,&#10;    &quot;stylers&quot;: [ { &quot;color&quot;: &quot;#3d3d3d&quot; } ]&#10;  }&#10;]&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/settings.gradle.kts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/settings.gradle.kts" />
              <option name="originalContent" value="pluginManagement {&#10;    repositories {&#10;        google {&#10;            content {&#10;                includeGroupByRegex(&quot;com\\.android.*&quot;)&#10;                includeGroupByRegex(&quot;com\\.google.*&quot;)&#10;                includeGroupByRegex(&quot;androidx.*&quot;)&#10;            }&#10;        }&#10;        mavenCentral()&#10;        gradlePluginPortal()&#10;    }&#10;}&#10;dependencyResolutionManagement {&#10;    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)&#10;    repositories {&#10;        google()&#10;        mavenCentral()&#10;    }&#10;}&#10;&#10;rootProject.name = &quot;Encomiendas&quot;&#10;include(&quot;:app&quot;)&#10;" />
              <option name="updatedContent" value="pluginManagement {&#13;&#10;    repositories {&#13;&#10;        google {&#13;&#10;            content {&#13;&#10;                includeGroupByRegex(&quot;com\\.android.*&quot;)&#13;&#10;                includeGroupByRegex(&quot;com\\.google.*&quot;)&#13;&#10;                includeGroupByRegex(&quot;androidx.*&quot;)&#13;&#10;            }&#13;&#10;        }&#13;&#10;        mavenCentral()&#13;&#10;        gradlePluginPortal()&#13;&#10;    }&#13;&#10;}&#13;&#10;dependencyResolutionManagement {&#13;&#10;    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)&#13;&#10;    repositories {&#13;&#10;        google()&#13;&#10;        mavenCentral()&#13;&#10;        maven { url = uri(&quot;https://jitpack.io&quot;) }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;rootProject.name = &quot;Encomiendas&quot;&#13;&#10;include(&quot;:app&quot;)" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>